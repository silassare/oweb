import { cleanRequestOptions, } from './ozone';
export default class OWebService {
    _appContext;
    service;
    constructor(_appContext, service) {
        this._appContext = _appContext;
        this.service = service;
    }
    getName() {
        return this.service;
    }
    addRequest(formData) {
        const oz = this._appContext.oz, url = oz.getServiceURI(this.service);
        return oz.request(url, {
            method: 'POST',
            body: formData,
        });
    }
    deleteRequest(id) {
        const oz = this._appContext.oz, url = oz.getItemURI(this.service, id);
        return oz.request(url, {
            method: 'DELETE',
        });
    }
    updateRequest(id, formData) {
        const oz = this._appContext.oz, url = oz.getItemURI(this.service, id);
        return oz.request(url, {
            method: 'PATCH',
            body: formData,
        });
    }
    deleteAllRequest(options) {
        const oz = this._appContext.oz, url = oz.getServiceURI(this.service);
        return oz.request(url, {
            method: 'DELETE',
            params: cleanRequestOptions(options),
        });
    }
    updateAllRequest(options) {
        const oz = this._appContext.oz, url = oz.getServiceURI(this.service);
        return oz.request(url, {
            method: 'PATCH',
            body: cleanRequestOptions(options),
        });
    }
    getRequest(id, relations = '') {
        const oz = this._appContext.oz, url = oz.getItemURI(this.service, id), options = {};
        if (relations.length) {
            options.relations = relations;
        }
        return oz.request(url, {
            method: 'GET',
            params: cleanRequestOptions(options),
        });
    }
    getAllRequest(options) {
        const oz = this._appContext.oz, url = oz.getServiceURI(this.service);
        return oz.request(url, {
            method: 'GET',
            params: cleanRequestOptions(options),
        });
    }
    getRelationRequest(id, relation) {
        const oz = this._appContext.oz, url = oz.getItemRelationURI(this.service, id, relation);
        return oz.request(url, {
            method: 'GET',
        });
    }
    getRelationItemsRequest(id, relation, options) {
        const oz = this._appContext.oz, url = oz.getItemRelationURI(this.service, id, relation);
        return oz.request(url, {
            method: 'GET',
            params: cleanRequestOptions(options),
        });
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiT1dlYlNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvT1dlYlNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQVdOLG1CQUFtQixHQUNuQixNQUFNLFNBQVMsQ0FBQztBQUlqQixNQUFNLENBQUMsT0FBTyxPQUFPLFdBQVc7SUFRWDtJQUNUO0lBRlgsWUFDb0IsV0FBb0IsRUFDN0IsT0FBZTtRQUROLGdCQUFXLEdBQVgsV0FBVyxDQUFTO1FBQzdCLFlBQU8sR0FBUCxPQUFPLENBQVE7SUFDdkIsQ0FBQztJQUtKLE9BQU87UUFDTixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDckIsQ0FBQztJQU9ELFVBQVUsQ0FBQyxRQUF5QjtRQUNuQyxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUUsRUFDN0IsR0FBRyxHQUFHLEVBQUUsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRXRDLE9BQU8sRUFBRSxDQUFDLE9BQU8sQ0FBMEIsR0FBRyxFQUFFO1lBQy9DLE1BQU0sRUFBRSxNQUFNO1lBQ2QsSUFBSSxFQUFFLFFBQVE7U0FDZCxDQUFDLENBQUM7SUFDSixDQUFDO0lBT0QsYUFBYSxDQUFDLEVBQVU7UUFDdkIsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFLEVBQzdCLEdBQUcsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFdkMsT0FBTyxFQUFFLENBQUMsT0FBTyxDQUE2QixHQUFHLEVBQUU7WUFDbEQsTUFBTSxFQUFFLFFBQVE7U0FDaEIsQ0FBQyxDQUFDO0lBQ0osQ0FBQztJQVFELGFBQWEsQ0FDWixFQUFVLEVBQ1YsUUFBeUI7UUFFekIsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFLEVBQzdCLEdBQUcsR0FBRyxFQUFFLENB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QUFFLG1CQUFtQixDQUFDLE9BQU8sQ0FBQztTQUNwQyxDQUFDLENBQUM7SUFDSixDQUFDO0NBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgT1dlYkFwcCBmcm9tICcuL09XZWJBcHAnO1xuaW1wb3J0IHtcblx0T0FwaUFkZFJlc3BvbnNlLFxuXHRPQXBpRGVsZXRlQWxsUmVzcG9uc2UsXG5cdE9BcGlEZWxldGVSZXNwb25zZSxcblx0T0FwaUdldEFsbFJlc3BvbnNlLFxuXHRPQXBpR2V0UmVsYXRpb25JdGVtUmVzcG9uc2UsXG5cdE9BcGlHZXRSZWxhdGlvbkl0ZW1zUmVzcG9uc2UsXG5cdE9BcGlHZXRSZXNwb25zZSxcblx0T0FwaVNlcnZpY2VSZXF1ZXN0T3B0aW9ucyxcblx0T0FwaVVwZGF0ZUFsbFJlc3BvbnNlLFxuXHRPQXBpVXBkYXRlUmVzcG9uc2UsXG5cdGNsZWFuUmVxdWVzdE9wdGlvbnMsXG59IGZyb20gJy4vb3pvbmUnO1xuaW1wb3J0IE9XZWJYSFIgZnJvbSAnLi9PV2ViWEhSJztcbmltcG9ydCB7IE9OZXRSZXF1ZXN0Qm9keSB9IGZyb20gJy4vT1dlYk5ldCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9XZWJTZXJ2aWNlPEVudGl0eT4ge1xuXHQvKipcblx0ICogT1dlYlNlcnZpY2UgY29uc3RydWN0b3IuXG5cdCAqXG5cdCAqIEBwYXJhbSBfYXBwQ29udGV4dCBUaGUgYXBwIGNvbnRleHQuXG5cdCAqIEBwYXJhbSBzZXJ2aWNlIFRoZSBzZXJ2aWNlIG5hbWUuXG5cdCAqL1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcm90ZWN0ZWQgcmVhZG9ubHkgX2FwcENvbnRleHQ6IE9XZWJBcHAsXG5cdFx0cHJvdGVjdGVkIHNlcnZpY2U6IHN0cmluZ1xuXHQpIHt9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIHNlcnZpY2UgbmFtZS5cblx0ICovXG5cdGdldE5hbWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5zZXJ2aWNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZHMgYW4gZW50aXR5LlxuXHQgKlxuXHQgKiBAcGFyYW0gZm9ybURhdGFcblx0ICovXG5cdGFkZFJlcXVlc3QoZm9ybURhdGE6IE9OZXRSZXF1ZXN0Qm9keSk6IE9XZWJYSFI8T0FwaUFkZFJlc3BvbnNlPEVudGl0eT4+IHtcblx0XHRjb25zdCBveiA9IHRoaXMuX2FwcENvbnRleHQub3osXG5cdFx0XHR1cmwgPSBvei5nZXRTZXJ2aWNlVVJJKHRoaXMuc2VydmljZSk7XG5cblx0XHRyZXR1cm4gb3oucmVxdWVzdDxPQXBpQWRkUmVzcG9uc2U8RW50aXR5Pj4odXJsLCB7XG5cdFx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdGJvZHk6IGZvcm1EYXRhLFxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIERlbGV0ZXMgdGhlIGVudGl0eSB3aXRoIHRoZSBnaXZlbiBpZC5cblx0ICpcblx0ICogQHBhcmFtIGlkIFRoZSBlbnRpdHkgaWQuXG5cdCAqL1xuXHRkZWxldGVSZXF1ZXN0KGlkOiBzdHJpbmcpOiBPV2ViWEhSPE9BcGlEZWxldGVSZXNwb25zZTxFbnRpdHk+PiB7XG5cdFx0Y29uc3Qgb3ogPSB0aGlzLl9hcHBDb250ZXh0Lm96LFxuXHRcdFx0dXJsID0gb3ouZ2V0SXRlbVVSSSh0aGlzLnNlcnZpY2UsIGlkKTtcblxuXHRcdHJldHVybiBvei5yZXF1ZXN0PE9BcGlEZWxldGVSZXNwb25zZTxFbnRpdHk+Pih1cmwsIHtcblx0XHRcdG1ldGhvZDogJ0RFTEVURScsXG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogVXBkYXRlcyB0aGUgZW50aXR5IHdpdGggdGhlIGdpdmVuIGlkLlxuXHQgKlxuXHQgKiBAcGFyYW0gaWQgVGhlIGVudGl0eSBpZC5cblx0ICogQHBhcmFtIGZvcm1EYXRhXG5cdCAqL1xuXHR1cGRhdGVSZXF1ZXN0KFxuXHRcdGlkOiBzdHJpbmcsXG5cdFx0Zm9ybURhdGE6IE9OZXRSZXF1ZXN0Qm9keVxuXHQpOiBPV2ViWEhSPE9BcGlVcGRhdGVSZXNwb25zZTxFbnRpdHk+PiB7XG5cdFx0Y29uc3Qgb3ogPSB0aGlzLl9hcHBDb250ZXh0Lm96LFxuXHRcdFx0dXJsID0gb3ouZ2V0SXRlbVVSSSh0aGlzLnNlcnZpY2UsIGlkKTtcblxuXHRcdHJldHVybiBvei5yZXF1ZXN0PE9BcGlVcGRhdGVSZXNwb25zZTxFbnRpdHk+Pih1cmwsIHtcblx0XHRcdG1ldGhvZDogJ1BBVENIJyxcblx0XHRcdGJvZHk6IGZvcm1EYXRhLFxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIERlbGV0ZXMgYWxsIGVudGl0aWVzLlxuXHQgKlxuXHQgKiBAcGFyYW0gb3B0aW9uc1xuXHQgKi9cblx0ZGVsZXRlQWxsUmVxdWVzdChcblx0XHRvcHRpb25zOiBPQXBpU2VydmljZVJlcXVlc3RPcHRpb25zXG5cdCk6IE9XZWJYSFI8T0FwaURlbGV0ZUFsbFJlc3BvbnNlPiB7XG5cdFx0Y29uc3Qgb3ogPSB0aGlzLl9hcHBDb250ZXh0Lm96LFxuXHRcdFx0dXJsID0gb3ouZ2V0U2VydmljZVVSSSh0aGlzLnNlcnZpY2UpO1xuXG5cdFx0cmV0dXJuIG96LnJlcXVlc3Q8T0FwaURlbGV0ZUFsbFJlc3BvbnNlPih1cmwsIHtcblx0XHRcdG1ldGhvZDogJ0RFTEVURScsXG5cdFx0XHRwYXJhbXM6IGNsZWFuUmVxdWVzdE9wdGlvbnMob3B0aW9ucyksXG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogVXBkYXRlcyBhbGwgZW50aXRpZXMuXG5cdCAqXG5cdCAqIEBwYXJhbSBvcHRpb25zXG5cdCAqL1xuXHR1cGRhdGVBbGxSZXF1ZXN0KFxuXHRcdG9wdGlvbnM6IE9BcGlTZXJ2aWNlUmVxdWVzdE9wdGlvbnNcblx0KTogT1dlYlhIUjxPQXBpVXBkYXRlQWxsUmVzcG9uc2U+IHtcblx0XHRjb25zdCBveiA9IHRoaXMuX2FwcENvbnRleHQub3osXG5cdFx0XHR1cmwgPSBvei5nZXRTZXJ2aWNlVVJJKHRoaXMuc2VydmljZSk7XG5cblx0XHRyZXR1cm4gb3oucmVxdWVzdDxPQXBpVXBkYXRlQWxsUmVzcG9uc2U+KHVybCwge1xuXHRcdFx0bWV0aG9kOiAnUEFUQ0gnLFxuXHRcdFx0Ym9keTogY2xlYW5SZXF1ZXN0T3B0aW9ucyhvcHRpb25zKSxcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIGFuIGVudGl0eSB3aXRoIHRoZSBnaXZlbiBpZC5cblx0ICpcblx0ICogQWxsIHJlcXVlc3RlZCByZWxhdGlvbnMgbmFtZXMgYXJlIGpvaW5lZCB3aXRoIGB8YC5cblx0ICogZXhhbXBsZTogYHJlbGF0aW9uMXxyZWxhdGlvbjJ8cmVsYXRpb25YYC5cblx0ICpcblx0ICogQHBhcmFtIGlkIFRoZSBlbnRpdHkgaWQuXG5cdCAqIEBwYXJhbSByZWxhdGlvbnMgVGhlIHJlbGF0aW9ucyBzdHJpbmcuXG5cdCAqL1xuXHRnZXRSZXF1ZXN0KGlkOiBzdHJpbmcsIHJlbGF0aW9ucyA9ICcnKTogT1dlYlhIUjxPQXBpR2V0UmVzcG9uc2U8RW50aXR5Pj4ge1xuXHRcdGNvbnN0IG96ID0gdGhpcy5fYXBwQ29udGV4dC5veixcblx0XHRcdHVybCA9IG96LmdldEl0ZW1VUkkodGhpcy5zZXJ2aWNlLCBpZCksXG5cdFx0XHRvcHRpb25zOiBPQXBpU2VydmljZVJlcXVlc3RPcHRpb25zID0ge307XG5cblx0XHRpZiAocmVsYXRpb25zLmxlbmd0aCkge1xuXHRcdFx0b3B0aW9ucy5yZWxhdGlvbnMgPSByZWxhdGlvbnM7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG96LnJlcXVlc3Q8T0FwaUdldFJlc3BvbnNlPEVudGl0eT4+KHVybCwge1xuXHRcdFx0bWV0aG9kOiAnR0VUJyxcblx0XHRcdHBhcmFtczogY2xlYW5SZXF1ZXN0T3B0aW9ucyhvcHRpb25zKSxcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIGFsbCBlbnRpdGllcy5cblx0ICpcblx0ICogQHBhcmFtIG9wdGlvbnNcblx0ICovXG5cdGdldEFsbFJlcXVlc3QoXG5cdFx0b3B0aW9uczogT0FwaVNlcnZpY2VSZXF1ZXN0T3B0aW9uc1xuXHQpOiBPV2ViWEhSPE9BcGlHZXRBbGxSZXNwb25zZTxFbnRpdHk+PiB7XG5cdFx0Y29uc3Qgb3ogPSB0aGlzLl9hcHBDb250ZXh0Lm96LFxuXHRcdFx0dXJsID0gb3ouZ2V0U2VydmljZVVSSSh0aGlzLnNlcnZpY2UpO1xuXG5cdFx0cmV0dXJuIG96LnJlcXVlc3Q8T0FwaUdldEFsbFJlc3BvbnNlPEVudGl0eT4+KHVybCwge1xuXHRcdFx0bWV0aG9kOiAnR0VUJyxcblx0XHRcdHBhcmFtczogY2xlYW5SZXF1ZXN0T3B0aW9ucyhvcHRpb25zKSxcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIGEgc2luZ2xlIGl0ZW0gcmVsYXRpb24gZm9yIGEgZ2l2ZW4gZW50aXR5IGlkLlxuXHQgKlxuXHQgKiBAcGFyYW0gaWQgVGhlIGVudGl0eSBpZC5cblx0ICogQHBhcmFtIHJlbGF0aW9uIFRoZSByZWxhdGlvbiBuYW1lXG5cdCAqL1xuXHRnZXRSZWxhdGlvblJlcXVlc3Q8Uj4oXG5cdFx0aWQ6IHN0cmluZyxcblx0XHRyZWxhdGlvbjogc3RyaW5nXG5cdCk6IE9XZWJYSFI8T0FwaUdldFJlbGF0aW9uSXRlbVJlc3BvbnNlPFI+PiB7XG5cdFx0Y29uc3Qgb3ogPSB0aGlzLl9hcHBDb250ZXh0Lm96LFxuXHRcdFx0dXJsID0gb3ouZ2V0SXRlbVJlbGF0aW9uVVJJKHRoaXMuc2VydmljZSwgaWQsIHJlbGF0aW9uKTtcblxuXHRcdHJldHVybiBvei5yZXF1ZXN0PE9BcGlHZXRSZWxhdGlvbkl0ZW1SZXNwb25zZTxSPj4odXJsLCB7XG5cdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldHMgbXVsdGlwbGUgaXRlbXMgcmVsYXRpb24gZm9yIGEgZ2l2ZW4gZW50aXR5IGlkLlxuXHQgKlxuXHQgKiBAcGFyYW0gaWQgVGhlIGVudGl0eSBpZC5cblx0ICogQHBhcmFtIHJlbGF0aW9uIFRoZSByZWxhdGlvbiBuYW1lLlxuXHQgKiBAcGFyYW0gb3B0aW9uc1xuXHQgKi9cblx0Z2V0UmVsYXRpb25JdGVtc1JlcXVlc3Q8Uj4oXG5cdFx0aWQ6IHN0cmluZyxcblx0XHRyZWxhdGlvbjogc3RyaW5nLFxuXHRcdG9wdGlvbnM6IE9BcGlTZXJ2aWNlUmVxdWVzdE9wdGlvbnNcblx0KTogT1dlYlhIUjxPQXBpR2V0UmVsYXRpb25JdGVtc1Jlc3BvbnNlPFI+PiB7XG5cdFx0Y29uc3Qgb3ogPSB0aGlzLl9hcHBDb250ZXh0Lm96LFxuXHRcdFx0dXJsID0gb3ouZ2V0SXRlbVJlbGF0aW9uVVJJKHRoaXMuc2VydmljZSwgaWQsIHJlbGF0aW9uKTtcblxuXHRcdHJldHVybiBvei5yZXF1ZXN0PE9BcGlHZXRSZWxhdGlvbkl0ZW1zUmVzcG9uc2U8Uj4+KHVybCwge1xuXHRcdFx0bWV0aG9kOiAnR0VUJyxcblx0XHRcdHBhcmFtczogY2xlYW5SZXF1ZXN0T3B0aW9ucyhvcHRpb25zKSxcblx0XHR9KTtcblx0fVxufVxuIl19