import Vue from "vue";
export default function (app) {
    return Vue.extend({
        methods: {
            oz_file_link: function (file, quality = 0, def) {
                let parts = file.split("_"), url = app.url.get("OZ_SERVER_GET_FILE_URI"), o = "0", file_id = o, file_key = o;
                if (parts.length === 2) {
                    file_id = parts[0];
                    file_key = parts[1];
                }
                if (def && (file_id === o || file_key === o)) {
                    return def;
                }
                let data = {
                    "{oz_file_id}": file_id,
                    "{oz_file_key}": file_key,
                    "{oz_file_quality}": quality
                };
                Object.keys(data).forEach(function (key) {
                    url = url.replace(key, data[key]);
                });
                return url;
            }
        }
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3oubWl4aW4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbWl4aW5zL296Lm1peGluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sR0FBRyxNQUFNLEtBQUssQ0FBQztBQUl0QixNQUFNLENBQUMsT0FBTyxXQUFXLEdBQVk7SUFDcEMsT0FBTyxHQUFHLENBQUMsTUFBTSxDQUFDO1FBQ2pCLE9BQU8sRUFBRTtZQUNSLFlBQVksRUFBRSxVQUFVLElBQVksRUFBRSxVQUF3QixDQUFDLEVBQUUsR0FBWTtnQkFDNUUsSUFBSSxLQUFLLEdBQU0sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFDN0IsR0FBRyxHQUFRLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLHdCQUF3QixDQUFDLEVBQ2hELENBQUMsR0FBVSxHQUFHLEVBQ2QsT0FBTyxHQUFJLENBQUMsRUFDWixRQUFRLEdBQUcsQ0FBQyxDQUFDO2dCQUVkLElBQUksS0FBSyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7b0JBQ3ZCLE9BQU8sR0FBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3BCLFFBQVEsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQ3BCO2dCQUVELElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxLQUFLLENBQUMsSUFBSSxRQUFRLEtBQUssQ0FBQyxDQUFDLEVBQUU7b0JBQzdDLE9BQU8sR0FBRyxDQUFDO2lCQUNYO2dCQUVELElBQUksSUFBSSxHQUFRO29CQUNmLGNBQWMsRUFBTyxPQUFPO29CQUM1QixlQUFlLEVBQU0sUUFBUTtvQkFDN0IsbUJBQW1CLEVBQUUsT0FBTztpQkFDNUIsQ0FBQztnQkFFRixNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEdBQUc7b0JBQ3RDLEdBQUcsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDbkMsQ0FBQyxDQUFDLENBQUM7Z0JBRUgsT0FBTyxHQUFHLENBQUM7WUFDWixDQUFDO1NBQ0Q7S0FDRCxDQUFDLENBQUE7QUFDSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZ1ZSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgT1dlYkFwcCBmcm9tIFwiLi4vT1dlYkFwcFwiO1xuaW1wb3J0IHt0RmlsZVF1YWxpdHl9IGZyb20gXCIuLi9PV2ViRlNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGFwcDogT1dlYkFwcCkge1xuXHRyZXR1cm4gVnVlLmV4dGVuZCh7XG5cdFx0bWV0aG9kczoge1xuXHRcdFx0b3pfZmlsZV9saW5rOiBmdW5jdGlvbiAoZmlsZTogc3RyaW5nLCBxdWFsaXR5OiB0RmlsZVF1YWxpdHkgPSAwLCBkZWY/OiBzdHJpbmcpIHtcblx0XHRcdFx0bGV0IHBhcnRzICAgID0gZmlsZS5zcGxpdChcIl9cIiksXG5cdFx0XHRcdFx0dXJsICAgICAgPSBhcHAudXJsLmdldChcIk9aX1NFUlZFUl9HRVRfRklMRV9VUklcIiksXG5cdFx0XHRcdFx0byAgICAgICAgPSBcIjBcIixcblx0XHRcdFx0XHRmaWxlX2lkICA9IG8sXG5cdFx0XHRcdFx0ZmlsZV9rZXkgPSBvO1xuXG5cdFx0XHRcdGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHtcblx0XHRcdFx0XHRmaWxlX2lkICA9IHBhcnRzWzBdO1xuXHRcdFx0XHRcdGZpbGVfa2V5ID0gcGFydHNbMV07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZGVmICYmIChmaWxlX2lkID09PSBvIHx8IGZpbGVfa2V5ID09PSBvKSkge1xuXHRcdFx0XHRcdHJldHVybiBkZWY7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRsZXQgZGF0YTogYW55ID0ge1xuXHRcdFx0XHRcdFwie296X2ZpbGVfaWR9XCIgICAgIDogZmlsZV9pZCxcblx0XHRcdFx0XHRcIntvel9maWxlX2tleX1cIiAgICA6IGZpbGVfa2V5LFxuXHRcdFx0XHRcdFwie296X2ZpbGVfcXVhbGl0eX1cIjogcXVhbGl0eVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0XHRcdHVybCA9IHVybC5yZXBsYWNlKGtleSwgZGF0YVtrZXldKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0cmV0dXJuIHVybDtcblx0XHRcdH1cblx0XHR9XG5cdH0pXG59Il19