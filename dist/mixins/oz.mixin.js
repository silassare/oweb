import Vue from "vue";
export default function (app) {
    return Vue.extend({
        methods: {
            oz_file_link: function (file_id, file_key, file_quality = 0, def) {
                let parts = arguments[0].split("_"), url = app.url.get("OZ_SERVER_GET_FILE_URI");
                if (parts.length === 2) {
                    file_id = parts[0];
                    file_key = parts[1];
                    file_quality = arguments[1];
                    def = arguments[2];
                }
                file_quality = ([0, 1, 2, 3].indexOf(file_quality) >= 0) ? file_quality : 0;
                if (def && (file_id === "0" || file_key === "0")) {
                    return def;
                }
                let data = {
                    "{oz_file_id}": file_id,
                    "{oz_file_key}": file_key,
                    "{oz_file_quality}": file_quality
                };
                Object.keys(data).forEach(function (key) {
                    url = url.replace(key, data[key]);
                });
                return url;
            }
        }
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3oubWl4aW4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbWl4aW5zL296Lm1peGluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sR0FBRyxNQUFNLEtBQUssQ0FBQztBQUd0QixNQUFNLENBQUMsT0FBTyxXQUFXLEdBQVk7SUFDcEMsT0FBTyxHQUFHLENBQUMsTUFBTSxDQUFDO1FBQ2pCLE9BQU8sRUFBRTtZQUNSLFlBQVksRUFBRSxVQUFVLE9BQWUsRUFBRSxRQUFpQixFQUFFLGVBQThCLENBQUMsRUFBRSxHQUFZO2dCQUN4RyxJQUFJLEtBQUssR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUNsQyxHQUFHLEdBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsd0JBQXdCLENBQUMsQ0FBQztnQkFFL0MsSUFBSSxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtvQkFDdkIsT0FBTyxHQUFRLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDeEIsUUFBUSxHQUFPLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDeEIsWUFBWSxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDNUIsR0FBRyxHQUFZLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztpQkFDNUI7Z0JBRUQsWUFBWSxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUU1RSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sS0FBSyxHQUFHLElBQUksUUFBUSxLQUFLLEdBQUcsQ0FBQyxFQUFFO29CQUNqRCxPQUFPLEdBQUcsQ0FBQztpQkFDWDtnQkFFRCxJQUFJLElBQUksR0FBUTtvQkFDZixjQUFjLEVBQU8sT0FBTztvQkFDNUIsZUFBZSxFQUFNLFFBQVE7b0JBQzdCLG1CQUFtQixFQUFFLFlBQVk7aUJBQ2pDLENBQUM7Z0JBRUYsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxHQUFHO29CQUN0QyxHQUFHLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ25DLENBQUMsQ0FBQyxDQUFDO2dCQUVILE9BQU8sR0FBRyxDQUFDO1lBQ1osQ0FBQztTQUNEO0tBQ0QsQ0FBQyxDQUFBO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBWdWUgZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IE9XZWJBcHAgZnJvbSBcIi4uL09XZWJBcHBcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGFwcDogT1dlYkFwcCkge1xuXHRyZXR1cm4gVnVlLmV4dGVuZCh7XG5cdFx0bWV0aG9kczoge1xuXHRcdFx0b3pfZmlsZV9saW5rOiBmdW5jdGlvbiAoZmlsZV9pZDogc3RyaW5nLCBmaWxlX2tleT86IHN0cmluZywgZmlsZV9xdWFsaXR5OiAwIHwgMSB8IDIgfCAzID0gMCwgZGVmPzogc3RyaW5nKSB7XG5cdFx0XHRcdGxldCBwYXJ0cyA9IGFyZ3VtZW50c1swXS5zcGxpdChcIl9cIiksXG5cdFx0XHRcdFx0dXJsICAgPSBhcHAudXJsLmdldChcIk9aX1NFUlZFUl9HRVRfRklMRV9VUklcIik7XG5cblx0XHRcdFx0aWYgKHBhcnRzLmxlbmd0aCA9PT0gMikge1xuXHRcdFx0XHRcdGZpbGVfaWQgICAgICA9IHBhcnRzWzBdO1xuXHRcdFx0XHRcdGZpbGVfa2V5ICAgICA9IHBhcnRzWzFdO1xuXHRcdFx0XHRcdGZpbGVfcXVhbGl0eSA9IGFyZ3VtZW50c1sxXTtcblx0XHRcdFx0XHRkZWYgICAgICAgICAgPSBhcmd1bWVudHNbMl07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmaWxlX3F1YWxpdHkgPSAoWzAsIDEsIDIsIDNdLmluZGV4T2YoZmlsZV9xdWFsaXR5KSA+PSAwKSA/IGZpbGVfcXVhbGl0eSA6IDA7XG5cblx0XHRcdFx0aWYgKGRlZiAmJiAoZmlsZV9pZCA9PT0gXCIwXCIgfHwgZmlsZV9rZXkgPT09IFwiMFwiKSkge1xuXHRcdFx0XHRcdHJldHVybiBkZWY7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRsZXQgZGF0YTogYW55ID0ge1xuXHRcdFx0XHRcdFwie296X2ZpbGVfaWR9XCIgICAgIDogZmlsZV9pZCxcblx0XHRcdFx0XHRcIntvel9maWxlX2tleX1cIiAgICA6IGZpbGVfa2V5LFxuXHRcdFx0XHRcdFwie296X2ZpbGVfcXVhbGl0eX1cIjogZmlsZV9xdWFsaXR5XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0T2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRcdFx0dXJsID0gdXJsLnJlcGxhY2Uoa2V5LCBkYXRhW2tleV0pO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRyZXR1cm4gdXJsO1xuXHRcdFx0fVxuXHRcdH1cblx0fSlcbn0iXX0=