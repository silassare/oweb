import oz from "./oz";
let fieldId = 0;
export default function (app) {
    return Object.assign({}, oz(app), { ow_local_time: function (time) {
            let offset = (new Date).getTimezoneOffset() * 60;
            if (typeof time === "string") {
                time = parseInt(time);
            }
            return (time + offset) * 1000;
        }, ow_route_link: function (path) {
            return app.router.pathToURL(path).href;
        }, ow_mark_field(field) {
            let id = "ow-field-id-" + (++fieldId);
            if (field.label) {
                field.label.for = id;
            }
            if (field.attributes) {
                field.attributes.id = id;
            }
            return field;
        } });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbWl4aW5zL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUV0QixJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUM7QUFFaEIsTUFBTSxDQUFDLE9BQU8sV0FBVyxHQUFZO0lBQ3BDLHlCQUNJLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFFVixhQUFhLEVBQUUsVUFBVSxJQUFxQjtZQUM3QyxJQUFJLE1BQU0sR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFLENBQUM7WUFFakQsSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLEVBQUU7Z0JBQzdCLElBQUksR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDdEI7WUFFRCxPQUFPLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQztRQUMvQixDQUFDLEVBQ0QsYUFBYSxFQUFFLFVBQVUsSUFBWTtZQUNwQyxPQUFPLEdBQUcsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQztRQUN4QyxDQUFDLEVBQ0QsYUFBYSxDQUFDLEtBQVU7WUFDdkIsSUFBSSxFQUFFLEdBQUcsY0FBYyxHQUFHLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztZQUN0QyxJQUFJLEtBQUssQ0FBQyxLQUFLLEVBQUU7Z0JBQ2hCLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQzthQUNyQjtZQUNELElBQUksS0FBSyxDQUFDLFVBQVUsRUFBRTtnQkFDckIsS0FBSyxDQUFDLFVBQVUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO2FBQ3pCO1lBRUQsT0FBTyxLQUFLLENBQUM7UUFDZCxDQUFDLElBQ0Q7QUFDRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE9XZWJBcHAgZnJvbSBcIi4uL09XZWJBcHBcIjtcbmltcG9ydCBveiBmcm9tIFwiLi9velwiO1xuXG5sZXQgZmllbGRJZCA9IDA7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChhcHA6IE9XZWJBcHApIHtcblx0cmV0dXJuIHtcblx0XHQuLi5veihhcHApLFxuXG5cdFx0b3dfbG9jYWxfdGltZTogZnVuY3Rpb24gKHRpbWU6IHN0cmluZyB8IG51bWJlcikge1xuXHRcdFx0bGV0IG9mZnNldCA9IChuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwO1xuXG5cdFx0XHRpZiAodHlwZW9mIHRpbWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0dGltZSA9IHBhcnNlSW50KHRpbWUpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gKHRpbWUgKyBvZmZzZXQpICogMTAwMDtcblx0XHR9LFxuXHRcdG93X3JvdXRlX2xpbms6IGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdFx0cmV0dXJuIGFwcC5yb3V0ZXIucGF0aFRvVVJMKHBhdGgpLmhyZWY7XG5cdFx0fSxcblx0XHRvd19tYXJrX2ZpZWxkKGZpZWxkOiBhbnkpIHtcblx0XHRcdGxldCBpZCA9IFwib3ctZmllbGQtaWQtXCIgKyAoKytmaWVsZElkKTtcblx0XHRcdGlmIChmaWVsZC5sYWJlbCkge1xuXHRcdFx0XHRmaWVsZC5sYWJlbC5mb3IgPSBpZDtcblx0XHRcdH1cblx0XHRcdGlmIChmaWVsZC5hdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdGZpZWxkLmF0dHJpYnV0ZXMuaWQgPSBpZDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGZpZWxkO1xuXHRcdH1cblx0fVxufSJdfQ==