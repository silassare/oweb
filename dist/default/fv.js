import { OWebDate, OWebFormValidator, Utils } from "../oweb";
import OTelInput from "o-tel-input";
OWebFormValidator.addFieldValidators({
    "code": (value, name, fv) => {
        let codeReg = new RegExp(fv.getConfig("OZ_CODE_REG"));
        fv.assert(codeReg.test(value), "OZ_AUTH_CODE_INVALID");
    },
    "uname": (value, name, fv) => {
        value = value.replace(/\s+/g, " ").trim();
        fv.assert(value.length >= fv.getConfig("OZ_USER_NAME_MIN_LENGTH"), "OZ_FIELD_USER_NAME_TOO_SHORT")
            .assert(value.length <= fv.getConfig("OZ_USER_NAME_MAX_LENGTH"), "OZ_FIELD_USER_NAME_TOO_LONG")
            .setField(name, value);
    },
    "login_pass": (value, name, fv) => {
        let pass = value, min = fv.getConfig("OZ_PASS_MIN_LENGTH"), max = fv.getConfig("OZ_PASS_MAX_LENGTH");
        fv.assert(pass.length >= min, "OZ_FIELD_PASS_INVALID")
            .assert(pass.length <= max, "OZ_FIELD_PASS_INVALID");
    },
    "pass": (value, name, fv) => {
        let pass = value, min = fv.getConfig("OZ_PASS_MIN_LENGTH"), max = fv.getConfig("OZ_PASS_MAX_LENGTH");
        fv.assert(pass.length >= min, "OZ_FIELD_PASS_TOO_SHORT", { "min": min, "max": max })
            .assert(pass.length <= max, "OZ_FIELD_PASS_TOO_LONG", { "min": min, "max": max });
    },
    "vpass": (value, name, fv) => {
        fv.assert(value === fv.getField("pass"), "OZ_FIELD_PASS_AND_VPASS_NOT_EQUAL");
    },
    "birth_date": (value, name, fv) => {
        let od = OWebDate.fromInputValue(value), date = od && od.describe(), min_age = fv.getConfig("OZ_USER_MIN_AGE"), max_age = fv.getConfig("OZ_USER_MAX_AGE"), isValid = date && Utils.isValidAge(date.d, date.m, date.Y, min_age, max_age);
        fv.assert(isValid, "OZ_FIELD_BIRTH_DATE_INVALID", { "input": value, "min": min_age, "max": max_age });
        date && fv.setField(name, `${date.Y}-${date.m}-${date.d}`);
    },
    "gender": (value, name, fv) => {
        let genders = fv.getConfig("OZ_USER_ALLOWED_GENDERS");
        fv.assert(genders.indexOf(value) >= 0, "OZ_FIELD_GENDER_INVALID");
    },
    "phone": (value, name, fv) => {
        fv.assert(OTelInput.isPhoneNumberPossible(value), "OZ_FIELD_PHONE_INVALID");
        let t = OTelInput(null, { "number": value });
        let phone = t.getInput();
        let cc2 = t.getCurrentData().cc2;
        fv.setField(name, phone.replace(/[ -]/g, ""));
        // set only if it is not already set
        // we may have multiple phone field or a cc2 field
        if (!fv.getField("cc2")) {
            fv.setField("cc2", cc2);
        }
    },
    "email": (value, name, fv) => {
        /**
         * Email matching regex
         *
         * source: http://www.w3.org/TR/html5/forms.html#valid-e-mail-address
         *        - TLD not required
         *            /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/
         *        - must have TLD
         *            /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/
         */
        let emailReg = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/;
        let email = value.replace(/\s/g, " ").trim();
        fv.assert(emailReg.test(email), "OZ_FIELD_EMAIL_INVALID")
            .setField(name, email);
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnYuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZGVmYXVsdC9mdi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsUUFBUSxFQUFFLGlCQUFpQixFQUFFLEtBQUssRUFBQyxNQUFNLFNBQVMsQ0FBQztBQUMzRCxPQUFPLFNBQVMsTUFBTSxhQUFhLENBQUM7QUFFcEMsaUJBQWlCLENBQUMsa0JBQWtCLENBQUM7SUFDcEMsTUFBTSxFQUFRLENBQUMsS0FBVSxFQUFFLElBQVksRUFBRSxFQUFxQixFQUFFLEVBQUU7UUFDakUsSUFBSSxPQUFPLEdBQUcsSUFBSSxNQUFNLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO1FBQ3RELEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxzQkFBc0IsQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFDRCxPQUFPLEVBQU8sQ0FBQyxLQUFVLEVBQUUsSUFBWSxFQUFFLEVBQXFCLEVBQUUsRUFBRTtRQUNqRSxLQUFLLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7UUFFMUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMseUJBQXlCLENBQUMsRUFBRSw4QkFBOEIsQ0FBQzthQUNoRyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sSUFBSSxFQUFFLENBQUMsU0FBUyxDQUFDLHlCQUF5QixDQUFDLEVBQUUsNkJBQTZCLENBQUM7YUFDOUYsUUFBUSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztJQUN6QixDQUFDO0lBQ0QsWUFBWSxFQUFFLENBQUMsS0FBVSxFQUFFLElBQVksRUFBRSxFQUFxQixFQUFFLEVBQUU7UUFDakUsSUFBSSxJQUFJLEdBQUcsS0FBSyxFQUNm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O1FBRTVFLElBQUksQ0FBQyxHQUFPLFNBQVMsQ0FBQyxJQUFJLEVBQUUsRUFBQyxRQUFRLEVBQUUsS0FBSyxFQUFDLENBQUMsQ0FBQztRQUMvQyxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDekIsSUFBSSxHQUFHLEdBQUssQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDLEdBQUcsQ0FBQztRQUVuQyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRTlDLG9DQUFvQztRQUNwQyxrREFBa0Q7UUFDbEQsSUFBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDeEIsRUFBRSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7U0FDeEI7SUFDRixDQUFDO0lBQ0QsT0FBTyxFQUFPLENBQUMsS0FBVSxFQUFFLElBQVksRUFBRSxFQUFxQixFQUFFLEVBQUU7UUFDakU7Ozs7Ozs7O1dBUUc7UUFDSCxJQUFJLFFBQVEsR0FBRyxzSUFBc0ksQ0FBQztRQUN0SixJQUFJLEtBQUssR0FBTSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUVoRCxFQUFFLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsd0JBQXdCLENBQUM7YUFDdkQsUUFBUSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztJQUN6QixDQUFDO0NBQ0QsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtPV2ViRGF0ZSwgT1dlYkZvcm1WYWxpZGF0b3IsIFV0aWxzfSBmcm9tIFwiLi4vb3dlYlwiO1xuaW1wb3J0IE9UZWxJbnB1dCBmcm9tIFwiby10ZWwtaW5wdXRcIjtcblxuT1dlYkZvcm1WYWxpZGF0b3IuYWRkRmllbGRWYWxpZGF0b3JzKHtcblx0XCJjb2RlXCIgICAgICA6ICh2YWx1ZTogYW55LCBuYW1lOiBzdHJpbmcsIGZ2OiBPV2ViRm9ybVZhbGlkYXRvcikgPT4ge1xuXHRcdGxldCBjb2RlUmVnID0gbmV3IFJlZ0V4cChmdi5nZXRDb25maWcoXCJPWl9DT0RFX1JFR1wiKSk7XG5cdFx0ZnYuYXNzZXJ0KGNvZGVSZWcudGVzdCh2YWx1ZSksIFwiT1pfQVVUSF9DT0RFX0lOVkFMSURcIik7XG5cdH0sXG5cdFwidW5hbWVcIiAgICAgOiAodmFsdWU6IGFueSwgbmFtZTogc3RyaW5nLCBmdjogT1dlYkZvcm1WYWxpZGF0b3IpID0+IHtcblx0XHR2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xccysvZywgXCIgXCIpLnRyaW0oKTtcblxuXHRcdGZ2LmFzc2VydCh2YWx1ZS5sZW5ndGggPj0gZnYuZ2V0Q29uZmlnKFwiT1pfVVNFUl9OQU1FX01JTl9MRU5HVEhcIiksIFwiT1pfRklFTERfVVNFUl9OQU1FX1RPT19TSE9SVFwiKVxuXHRcdFx0LmFzc2VydCh2YWx1ZS5sZW5ndGggPD0gZnYuZ2V0Q29uZmlnKFwiT1pfVVNFUl9OQU1FX01BWF9MRU5HVEhcIiksIFwiT1pfRklFTERfVVNFUl9OQU1FX1RPT19MT05HXCIpXG5cdFx0XHQuc2V0RmllbGQobmFtZSwgdmFsdWUpO1xuXHR9LFxuXHRcImxvZ2luX3Bhc3NcIjogKHZhbHVlOiBhbnksIG5hbWU6IHN0cmluZywgZnY6IE9XZWJGb3JtVmFsaWRhdG9yKSA9PiB7XG5cdFx0bGV0IHBhc3MgPSB2YWx1ZSxcblx0XHRcdG1pbiAgPSBmdi5nZXRDb25maWcoXCJPWl9QQVNTX01JTl9MRU5HVEhcIiksXG5cdFx0XHRtYXggID0gZnYuZ2V0Q29uZmlnKFwiT1pfUEFTU19NQVhfTEVOR1RIXCIpO1xuXHRcdGZ2LmFzc2VydChwYXNzLmxlbmd0aCA+PSBtaW4sIFwiT1pfRklFTERfUEFTU19JTlZBTElEXCIpXG5cdFx0XHQuYXNzZXJ0KHBhc3MubGVuZ3RoIDw9IG1heCwgXCJPWl9GSUVMRF9QQVNTX0lOVkFMSURcIik7XG5cdH0sXG5cdFwicGFzc1wiICAgICAgOiAodmFsdWU6IGFueSwgbmFtZTogc3RyaW5nLCBmdjogT1dlYkZvcm1WYWxpZGF0b3IpID0+IHtcblx0XHRsZXQgcGFzcyA9IHZhbHVlLFxuXHRcdFx0bWluICA9IGZ2LmdldENvbmZpZyhcIk9aX1BBU1NfTUlOX0xFTkdUSFwiKSxcblx0XHRcdG1heCAgPSBmdi5nZXRDb25maWcoXCJPWl9QQVNTX01BWF9MRU5HVEhcIik7XG5cdFx0ZnYuYXNzZXJ0KHBhc3MubGVuZ3RoID49IG1pbiwgXCJPWl9GSUVMRF9QQVNTX1RPT19TSE9SVFwiLCB7XCJtaW5cIjogbWluLCBcIm1heFwiOiBtYXh9KVxuXHRcdFx0LmFzc2VydChwYXNzLmxlbmd0aCA8PSBtYXgsIFwiT1pfRklFTERfUEFTU19UT09fTE9OR1wiLCB7XCJtaW5cIjogbWluLCBcIm1heFwiOiBtYXh9KTtcblx0fSxcblx0XCJ2cGFzc1wiICAgICA6ICh2YWx1ZTogYW55LCBuYW1lOiBzdHJpbmcsIGZ2OiBPV2ViRm9ybVZhbGlkYXRvcikgPT4ge1xuXHRcdGZ2LmFzc2VydCh2YWx1ZSA9PT0gZnYuZ2V0RmllbGQoXCJwYXNzXCIpLCBcIk9aX0ZJRUxEX1BBU1NfQU5EX1ZQQVNTX05PVF9FUVVBTFwiKTtcblx0fSxcblx0XCJiaXJ0aF9kYXRlXCI6ICh2YWx1ZTogYW55LCBuYW1lOiBzdHJpbmcsIGZ2OiBPV2ViRm9ybVZhbGlkYXRvcikgPT4ge1xuXHRcdGxldCBvZCAgICAgID0gT1dlYkRhdGUuZnJvbUlucHV0VmFsdWUodmFsdWUpLFxuXHRcdFx0ZGF0ZSAgICA9IG9kICYmIG9kLmRlc2NyaWJlKCksXG5cdFx0XHRtaW5fYWdlID0gZnYuZ2V0Q29uZmlnKFwiT1pfVVNFUl9NSU5fQUdFXCIpLFxuXHRcdFx0bWF4X2FnZSA9IGZ2LmdldENvbmZpZyhcIk9aX1VTRVJfTUFYX0FHRVwiKSxcblx0XHRcdGlzVmFsaWQgPSBkYXRlICYmIFV0aWxzLmlzVmFsaWRBZ2UoZGF0ZS5kLCBkYXRlLm0sIGRhdGUuWSwgbWluX2FnZSwgbWF4X2FnZSk7XG5cblx0XHRmdi5hc3NlcnQoaXNWYWxpZCwgXCJPWl9GSUVMRF9CSVJUSF9EQVRFX0lOVkFMSURcIiwge1wiaW5wdXRcIjogdmFsdWUsIFwibWluXCI6IG1pbl9hZ2UsIFwibWF4XCI6IG1heF9hZ2V9KTtcblxuXHRcdGRhdGUgJiYgZnYuc2V0RmllbGQobmFtZSwgYCR7ZGF0ZS5ZfS0ke2RhdGUubX0tJHtkYXRlLmR9YCk7XG5cdH0sXG5cdFwiZ2VuZGVyXCIgICAgOiAodmFsdWU6IGFueSwgbmFtZTogc3RyaW5nLCBmdjogT1dlYkZvcm1WYWxpZGF0b3IpID0+IHtcblx0XHRsZXQgZ2VuZGVycyA9IGZ2LmdldENvbmZpZyhcIk9aX1VTRVJfQUxMT1dFRF9HRU5ERVJTXCIpO1xuXHRcdGZ2LmFzc2VydChnZW5kZXJzLmluZGV4T2YodmFsdWUpID49IDAsIFwiT1pfRklFTERfR0VOREVSX0lOVkFMSURcIik7XG5cdH0sXG5cdFwicGhvbmVcIiAgICAgOiAodmFsdWU6IGFueSwgbmFtZTogc3RyaW5nLCBmdjogT1dlYkZvcm1WYWxpZGF0b3IpID0+IHtcblx0XHRmdi5hc3NlcnQoT1RlbElucHV0LmlzUGhvbmVOdW1iZXJQb3NzaWJsZSh2YWx1ZSksIFwiT1pfRklFTERfUEhPTkVfSU5WQUxJRFwiKTtcblxuXHRcdGxldCB0ICAgICA9IE9UZWxJbnB1dChudWxsLCB7XCJudW1iZXJcIjogdmFsdWV9KTtcblx0XHRsZXQgcGhvbmUgPSB0LmdldElucHV0KCk7XG5cdFx0bGV0IGNjMiAgID0gdC5nZXRDdXJyZW50RGF0YSgpLmNjMjtcblxuXHRcdGZ2LnNldEZpZWxkKG5hbWUsIHBob25lLnJlcGxhY2UoL1sgLV0vZywgXCJcIikpO1xuXG5cdFx0Ly8gc2V0IG9ubHkgaWYgaXQgaXMgbm90IGFscmVhZHkgc2V0XG5cdFx0Ly8gd2UgbWF5IGhhdmUgbXVsdGlwbGUgcGhvbmUgZmllbGQgb3IgYSBjYzIgZmllbGRcblx0XHRpZiAoIWZ2LmdldEZpZWxkKFwiY2MyXCIpKSB7XG5cdFx0XHRmdi5zZXRGaWVsZChcImNjMlwiLCBjYzIpO1xuXHRcdH1cblx0fSxcblx0XCJlbWFpbFwiICAgICA6ICh2YWx1ZTogYW55LCBuYW1lOiBzdHJpbmcsIGZ2OiBPV2ViRm9ybVZhbGlkYXRvcikgPT4ge1xuXHRcdC8qKlxuXHRcdCAqIEVtYWlsIG1hdGNoaW5nIHJlZ2V4XG5cdFx0ICpcblx0XHQgKiBzb3VyY2U6IGh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw1L2Zvcm1zLmh0bWwjdmFsaWQtZS1tYWlsLWFkZHJlc3Ncblx0XHQgKiAgICAgICAgLSBUTEQgbm90IHJlcXVpcmVkXG5cdFx0ICogICAgICAgICAgICAvXlthLXpBLVowLTkuISMkJSYnKisvPT9eX2B7fH1+LV0rQFthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykqJC9cblx0XHQgKiAgICAgICAgLSBtdXN0IGhhdmUgVExEXG5cdFx0ICogICAgICAgICAgICAvXlthLXpBLVowLTkuISMkJSYnKisvPT9eX2B7fH1+LV0rQFthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykrJC9cblx0XHQgKi9cblx0XHRsZXQgZW1haWxSZWcgPSAvXlthLXpBLVowLTkuISMkJSYnKisvPT9eX2B7fH1+LV0rQFthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykrJC87XG5cdFx0bGV0IGVtYWlsICAgID0gdmFsdWUucmVwbGFjZSgvXFxzL2csIFwiIFwiKS50cmltKCk7XG5cblx0XHRmdi5hc3NlcnQoZW1haWxSZWcudGVzdChlbWFpbCksIFwiT1pfRklFTERfRU1BSUxfSU5WQUxJRFwiKVxuXHRcdFx0LnNldEZpZWxkKG5hbWUsIGVtYWlsKTtcblx0fVxufSk7Il19