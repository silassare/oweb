export default class OWebDate {
    constructor(app_context, date = new Date()) {
        this.app_context = app_context;
        this.date = date;
    }
    /**
     * Format date with a given lang key.
     *
     * @param langKey
     */
    format(langKey) {
        return this.app_context.i18n.toHuman(langKey, this.describe());
    }
    /**
     * Returns date description object.
     */
    describe() {
        let i18n = this.app_context.i18n, day_names_short = i18n.toHuman("OW_TIME_DAY_NAMES_SHORT").split(","), day_names_full = i18n.toHuman("OW_TIME_DAY_NAMES_FULL").split(","), month_names_short = i18n.toHuman("OW_TIME_MONTH_NAMES_SHORT").split(","), month_names_full = i18n.toHuman("OW_TIME_MONTH_NAMES_FULL").split(","), date = new Date(this.date), y = date.getYear(), Y = date.getFullYear(), m = date.getMonth(), mm = String(m < 9 ? "0" + (m + 1) : m + 1), d = date.getDate(), l = date.getDay(), ll = l + 1, // l? l : 7,
        L = day_names_full[l], LL = day_names_full[l], D = day_names_short[l], M = month_names_short[m], F = month_names_full[m], H = date.getHours(), i = date.getMinutes(), ii = String(i < 10 ? "0" + i : i), s = date.getSeconds(), ss = String(s < 10 ? "0" + s : s), ms = date.getMilliseconds(), h = (H === 12) ? 12 : H % 12, a = (H < 12) ? "am" : "pm", A = a.toUpperCase();
        return {
            D: D,
            l: l,
            L: L,
            ll: ll,
            LL: LL,
            d: d,
            M: M,
            F: F,
            m: m,
            mm: mm,
            Y: Y,
            y: y,
            h: h,
            H: H,
            i: i,
            ii: ii,
            s: s,
            ss: ss,
            ms: ms,
            a: a,
            A: A
        };
    }
    /**
     * Date setter.
     *
     * @param date
     */
    setDate(date) {
        this.date = new Date(date);
        return this;
    }
    /**
     * Date getter.
     */
    getDate() {
        return this.date;
    }
    /**
     * Returns unix like timestamp.
     */
    static timestamp() {
        return Number(String(Date.now()).slice(0, -3));
    }
}
;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiT1dlYkRhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvcGx1Z2lucy9PV2ViRGF0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFpREEsTUFBTSxDQUFDLE9BQU8sT0FBTyxRQUFRO0lBRTVCLFlBQW9CLFdBQW9CLEVBQVUsT0FBbUIsSUFBSSxJQUFJLEVBQUU7UUFBM0QsZ0JBQVcsR0FBWCxXQUFXLENBQVM7UUFBVSxTQUFJLEdBQUosSUFBSSxDQUF5QjtJQUMvRSxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILE1BQU0sQ0FBQyxPQUFlO1FBQ3JCLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztJQUNoRSxDQUFDO0lBRUQ7O09BRUc7SUFDSCxRQUFRO1FBQ1AsSUFBSSxJQUFJLEdBQWdCLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUM1QyxlQUFlLEdBQUssSUFBSSxDQUFDLE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFDdEUsY0FBYyxHQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsd0JBQXdCLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQ3JFLGlCQUFpQixHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsMkJBQTJCLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQ3hFLGdCQUFnQixHQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsMEJBQTBCLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQ3ZFLElBQUksR0FBZ0IsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUN2QyxDQUFDLEdBQW9CLElBQVksQ0FBQyxPQUFPLEVBQUUsRUFDM0MsQ0FBQyxHQUFtQixJQUFJLENBQUMsV0FBVyxFQUFFLEVBQ3RDLENBQUMsR0FBbUIsSUFB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QUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEQgVGhlIGRheSBvZiB0aGUgd2VlayBpbiB0aHJlZSBsZXR0ZXJzXG4gKiBsIChMIGxvd2VyY2FzZSkgVGhlIGVudGlyZSBkYXkgb2YgdGhlIHdlZWsgMCB0byA2XG4gKiBsbCAoTEwgbG93ZXJjYXNlKSBUaGUgZW50aXJlIGRheSBvZiB0aGUgd2VlayAxIHRvIDdcbiAqIGQgVGhlIGRheSBvZiB0aGUgbW9udGhcbiAqIE0gVGhlIG5hbWUgb2YgdGhlIG1vbnRoIGluIHRocmVlIG9yIGZvdXIgbGV0dGVyc1xuICogRiBUaGUgZnVsbCBuYW1lIG9mIHRoZSBtb250aFxuICogbSBUaGUgbnVtYmVyIG9mIHRoZSBtb250aCAwIHRvIDExXG4gKiBtbSBUaGUgbnVtYmVyIG9mIHRoZSBtb250aCAwMSB0byAxMlxuICogWSBUaGUgeWVhciBpbiBmb3VyIGRpZ2l0c1xuICogeSBUaGUgeWVhciBpbiB0d28gZGlnaXRzXG4gKiBoIFRpbWUgZnJvbSAwIHRvIDEyXG4gKiBIIFRpbWUgZnJvbSAwIHRvIDIzXG4gKiBpIFRoZSBtaW51dGVzIDAgdG8gNTlcbiAqIHMgVGhlIHNlY29uZHMgMCB0byA1OVxuICogYSBhbSAvIHBtIERpc3BsYXlcbiAqIEEgQU0gLyBQTSBkaXNwbGF5XG4gKlxuICogLy8gT1dlYkRhdGVcbiAqIGlpIFRoZSBtaW51dGVzIDAwLCAwMSwuLi4sIDU5XG4gKiBzcyBUaGUgc2Vjb25kcyAwMCwgMDEsLi4uLCA1OVxuICovXG5pbXBvcnQgT1dlYkFwcCBmcm9tIFwiLi4vT1dlYkFwcFwiO1xuXG5leHBvcnQgdHlwZSB0RGF0ZVZhbHVlID0gRGF0ZSB8IG51bWJlciB8IHN0cmluZztcbmV4cG9ydCB0eXBlIHREYXRlRGVzYyA9IHtcblx0RDogc3RyaW5nLFxuXHRsOiBudW1iZXIsXG5cdEw6IHN0cmluZyxcblx0bGw6IG51bWJlcixcblx0TEw6IHN0cmluZyxcblx0ZDogbnVtYmVyLFxuXHRNOiBzdHJpbmcsXG5cdEY6IHN0cmluZyxcblx0bTogbnVtYmVyLFxuXHRtbTogc3RyaW5nLFxuXHRZOiBudW1iZXIsXG5cdHk6IG51bWJlcixcblx0aDogbnVtYmVyLFxuXHRIOiBudW1iZXIsXG5cdGk6IG51bWJlcixcblx0aWk6IHN0cmluZyxcblx0czogbnVtYmVyLFxuXHRzczogc3RyaW5nLFxuXHRtczogbnVtYmVyLFxuXHRhOiBzdHJpbmcsXG5cdEE6IHN0cmluZ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT1dlYkRhdGUge1xuXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgYXBwX2NvbnRleHQ6IE9XZWJBcHAsIHByaXZhdGUgZGF0ZTogdERhdGVWYWx1ZSA9IG5ldyBEYXRlKCkpIHtcblx0fVxuXG5cdC8qKlxuXHQgKiBGb3JtYXQgZGF0ZSB3aXRoIGEgZ2l2ZW4gbGFuZyBrZXkuXG5cdCAqXG5cdCAqIEBwYXJhbSBsYW5nS2V5XG5cdCAqL1xuXHRmb3JtYXQobGFuZ0tleTogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5hcHBfY29udGV4dC5pMThuLnRvSHVtYW4obGFuZ0tleSwgdGhpcy5kZXNjcmliZSgpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGRhdGUgZGVzY3JpcHRpb24gb2JqZWN0LlxuXHQgKi9cblx0ZGVzY3JpYmUoKTogdERhdGVEZXNjIHtcblx0XHRsZXQgaTE4biAgICAgICAgICAgICAgPSB0aGlzLmFwcF9jb250ZXh0LmkxOG4sXG5cdFx0XHRkYXlfbmFtZXNfc2hvcnQgICA9IGkxOG4udG9IdW1hbihcIk9XX1RJTUVfREFZX05BTUVTX1NIT1JUXCIpLnNwbGl0KFwiLFwiKSxcblx0XHRcdGRheV9uYW1lc19mdWxsICAgID0gaTE4bi50b0h1bWFuKFwiT1dfVElNRV9EQVlfTkFNRVNfRlVMTFwiKS5zcGxpdChcIixcIiksXG5cdFx0XHRtb250aF9uYW1lc19zaG9ydCA9IGkxOG4udG9IdW1hbihcIk9XX1RJTUVfTU9OVEhfTkFNRVNfU0hPUlRcIikuc3BsaXQoXCIsXCIpLFxuXHRcdFx0bW9udGhfbmFtZXNfZnVsbCAgPSBpMThuLnRvSHVtYW4oXCJPV19USU1FX01PTlRIX05BTUVTX0ZVTExcIikuc3BsaXQoXCIsXCIpLFxuXHRcdFx0ZGF0ZSAgICAgICAgICAgICAgPSBuZXcgRGF0ZSh0aGlzLmRhdGUpLFxuXHRcdFx0eTogbnVtYmVyICAgICAgICAgPSAoZGF0ZSBhcyBhbnkpLmdldFllYXIoKSxcblx0XHRcdFk6IG51bWJlciAgICAgICAgID0gZGF0ZS5nZXRGdWxsWWVhcigpLFxuXHRcdFx0bTogbnVtYmVyICAgICAgICAgPSBkYXRlLmdldE1vbnRoKCksXG5cdFx0XHRtbTogc3RyaW5nICAgICAgICA9IFN0cmluZyhtIDwgOSA/IFwiMFwiICsgKG0gKyAxKSA6IG0gKyAxKSxcblx0XHRcdGQ6IG51bWJlciAgICAgICAgID0gZGF0ZS5nZXREYXRlKCksXG5cdFx0XHRsOiBudW1iZXIgICAgICAgICA9IGRhdGUuZ2V0RGF5KCksXG5cdFx0XHRsbDogbnVtYmVyICAgICAgICA9IGwgKyAxLC8vIGw/IGwgOiA3LFxuXHRcdFx0TDogc3RyaW5nICAgICAgICAgPSBkYXlfbmFtZXNfZnVsbFtsXSxcblx0XHRcdExMOiBzdHJpbmcgICAgICAgID0gZGF5X25hbWVzX2Z1bGxbbF0sXG5cdFx0XHREOiBzdHJpbmcgICAgICAgICA9IGRheV9uYW1lc19zaG9ydFtsXSxcblx0XHRcdE06IHN0cmluZyAgICAgICAgID0gbW9udGhfbmFtZXNfc2hvcnRbbV0sXG5cdFx0XHRGOiBzdHJpbmcgICAgICAgICA9IG1vbnRoX25hbWVzX2Z1bGxbbV0sXG5cdFx0XHRIOiBudW1iZXIgICAgICAgICA9IGRhdGUuZ2V0SG91cnMoKSxcblx0XHRcdGk6IG51bWJlciAgICAgICAgID0gZGF0ZS5nZXRNaW51dGVzKCksXG5cdFx0XHRpaTogc3RyaW5nICAgICAgICA9IFN0cmluZyhpIDwgMTAgPyBcIjBcIiArIGkgOiBpKSxcblx0XHRcdHM6IG51bWJlciAgICAgICAgID0gZGF0ZS5nZXRTZWNvbmRzKCksXG5cdFx0XHRzczogc3RyaW5nICAgICAgICA9IFN0cmluZyhzIDwgMTAgPyBcIjBcIiArIHMgOiBzKSxcblx0XHRcdG1zOiBudW1iZXIgICAgICAgID0gZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSxcblx0XHRcdGg6IG51bWJlciAgICAgICAgID0gKEggPT09IDEyKSA/IDEyIDogSCAlIDEyLFxuXHRcdFx0YTogc3RyaW5nICAgICAgICAgPSAoSCA8IDEyKSA/IFwiYW1cIiA6IFwicG1cIixcblx0XHRcdEE6IHN0cmluZyAgICAgICAgID0gYS50b1VwcGVyQ2FzZSgpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdEQgOiBELFxuXHRcdFx0bCA6IGwsXG5cdFx0XHRMIDogTCxcblx0XHRcdGxsOiBsbCxcblx0XHRcdExMOiBMTCxcblx0XHRcdGQgOiBkLFxuXHRcdFx0TSA6IE0sXG5cdFx0XHRGIDogRixcblx0XHRcdG0gOiBtLFxuXHRcdFx0bW06IG1tLFxuXHRcdFx0WSA6IFksXG5cdFx0XHR5IDogeSxcblx0XHRcdGggOiBoLFxuXHRcdFx0SCA6IEgsXG5cdFx0XHRpIDogaSxcblx0XHRcdGlpOiBpaSxcblx0XHRcdHMgOiBzLFxuXHRcdFx0c3M6IHNzLFxuXHRcdFx0bXM6IG1zLFxuXHRcdFx0YSA6IGEsXG5cdFx0XHRBIDogQVxuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogRGF0ZSBzZXR0ZXIuXG5cdCAqXG5cdCAqIEBwYXJhbSBkYXRlXG5cdCAqL1xuXHRzZXREYXRlKGRhdGU6IHREYXRlVmFsdWUpOiB0aGlzIHtcblx0XHR0aGlzLmRhdGUgPSBuZXcgRGF0ZShkYXRlKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBEYXRlIGdldHRlci5cblx0ICovXG5cdGdldERhdGUoKTogdERhdGVWYWx1ZSB7XG5cdFx0cmV0dXJuIHRoaXMuZGF0ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHVuaXggbGlrZSB0aW1lc3RhbXAuXG5cdCAqL1xuXHRzdGF0aWMgdGltZXN0YW1wKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIE51bWJlcihTdHJpbmcoRGF0ZS5ub3coKSkuc2xpY2UoMCwgLTMpKTtcblx0fVxufTsiXX0=