export default class OWebDate {
    constructor(app_context, date = new Date()) {
        this.app_context = app_context;
        this.date = date;
    }
    /**
     * Format date with a given lang key.
     *
     * @param langKey
     */
    format(langKey) {
        return this.app_context.i18n.toHuman(langKey, this.describe());
    }
    /**
     * Returns date description object.
     */
    describe() {
        let i18n = this.app_context.i18n, day_names_short = i18n.toHuman("OW_TIME_DAY_NAMES_SHORT").split(","), day_names_full = i18n.toHuman("OW_TIME_DAY_NAMES_FULL").split(","), month_names_short = i18n.toHuman("OW_TIME_MONTH_NAMES_SHORT").split(","), month_names_full = i18n.toHuman("OW_TIME_MONTH_NAMES_FULL").split(","), date = new Date(this.date), y = date.getYear(), Y = date.getFullYear(), m = date.getMonth(), mm = String(m < 9 ? "0" + (m + 1) : m + 1), d = date.getDate(), l = date.getDay(), ll = l + 1, // l? l : 7,
        L = day_names_full[l], LL = day_names_full[l], D = day_names_short[l], M = month_names_short[m], F = month_names_full[m], H = date.getHours(), i = date.getMinutes(), ii = String(i < 10 ? "0" + i : i), s = date.getSeconds(), ss = String(s < 10 ? "0" + s : s), ms = date.getMilliseconds(), h = (H === 12) ? 12 : H % 12, a = (H < 12) ? "am" : "pm", A = a.toUpperCase();
        return {
            D: D,
            l: l,
            L: L,
            ll: ll,
            LL: LL,
            d: d,
            M: M,
            F: F,
            m: m,
            mm: mm,
            Y: Y,
            y: y,
            h: h,
            H: H,
            i: i,
            ii: ii,
            s: s,
            ss: ss,
            ms: ms,
            a: a,
            A: A
        };
    }
    /**
     * Date setter.
     *
     * @param date
     */
    setDate(date) {
        this.date = new Date(date);
        return this;
    }
    /**
     * Date getter.
     */
    getDate() {
        return this.date;
    }
    /**
     * Returns unix like timestamp.
     */
    static timestamp() {
        return Number(String(Date.now()).slice(0, -3));
    }
}
;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiT1dlYkRhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvcGx1Z2lucy9PV2ViRGF0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFpREEsTUFBTSxDQUFDLE9BQU87SUFFYixZQUFvQixXQUFvQixFQUFVLE9BQW1CLElBQUksSUFBSSxFQUFFO1FBQTNELGdCQUFXLEdBQVgsV0FBVyxDQUFTO1FBQVUsU0FBSSxHQUFKLElBQUksQ0FBeUI7SUFDL0UsQ0FBQztJQUVEOzs7O09BSUc7SUFDSCxNQUFNLENBQUMsT0FBZTtRQUNyQixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDaEUsQ0FBQztJQUVEOztPQUVHO0lBQ0gsUUFBUTtRQUNQLElBQUksSUFBSSxHQUFnQixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksRUFDNUMsZUFBZSxHQUFLLElBQUksQ0FBQyxPQUFPLENBQUMseUJBQXlCLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQ3RFLGNBQWMsR0FBTSxJQUFJLENBQUMsT0FBTyxDQUFDLHdCQUF3QixDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUNyRSxpQkFBaUIsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLDJCQUEyQixDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUN4RSxnQkFBZ0IsR0FBSSxJQUFJLENBQUMsT0FBTyxDQUFDLDBCQUEwQixDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUN2RSxJQUFJLEdBQWdCLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFDdkMsQ0FBQyxHQUFvQixJQUFZLENBQUMsT0FBTyxFQUFFLEVBQzNDLENBQUMsR0FBbUIsSUFBSSxDQUFDLFdBQVcsRUFBRSxFQUN0QyxDQUFDLEdBQW1CLElBQUksQ0FBQyxRQUFR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c0NvbnRlbnQiOlsiLyoqXG4gKiBEIFRoZSBkYXkgb2YgdGhlIHdlZWsgaW4gdGhyZWUgbGV0dGVyc1xuICogbCAoTCBsb3dlcmNhc2UpIFRoZSBlbnRpcmUgZGF5IG9mIHRoZSB3ZWVrIDAgdG8gNlxuICogbGwgKExMIGxvd2VyY2FzZSkgVGhlIGVudGlyZSBkYXkgb2YgdGhlIHdlZWsgMSB0byA3XG4gKiBkIFRoZSBkYXkgb2YgdGhlIG1vbnRoXG4gKiBNIFRoZSBuYW1lIG9mIHRoZSBtb250aCBpbiB0aHJlZSBvciBmb3VyIGxldHRlcnNcbiAqIEYgVGhlIGZ1bGwgbmFtZSBvZiB0aGUgbW9udGhcbiAqIG0gVGhlIG51bWJlciBvZiB0aGUgbW9udGggMCB0byAxMVxuICogbW0gVGhlIG51bWJlciBvZiB0aGUgbW9udGggMDEgdG8gMTJcbiAqIFkgVGhlIHllYXIgaW4gZm91ciBkaWdpdHNcbiAqIHkgVGhlIHllYXIgaW4gdHdvIGRpZ2l0c1xuICogaCBUaW1lIGZyb20gMCB0byAxMlxuICogSCBUaW1lIGZyb20gMCB0byAyM1xuICogaSBUaGUgbWludXRlcyAwIHRvIDU5XG4gKiBzIFRoZSBzZWNvbmRzIDAgdG8gNTlcbiAqIGEgYW0gLyBwbSBEaXNwbGF5XG4gKiBBIEFNIC8gUE0gZGlzcGxheVxuICpcbiAqIC8vIE9XZWJEYXRlXG4gKiBpaSBUaGUgbWludXRlcyAwMCwgMDEsLi4uLCA1OVxuICogc3MgVGhlIHNlY29uZHMgMDAsIDAxLC4uLiwgNTlcbiAqL1xuaW1wb3J0IE9XZWJBcHAgZnJvbSBcIi4uL09XZWJBcHBcIjtcblxuZXhwb3J0IHR5cGUgdERhdGVWYWx1ZSA9IERhdGUgfCBudW1iZXIgfCBzdHJpbmc7XG5leHBvcnQgdHlwZSB0RGF0ZURlc2MgPSB7XG5cdEQ6IHN0cmluZyxcblx0bDogbnVtYmVyLFxuXHRMOiBzdHJpbmcsXG5cdGxsOiBudW1iZXIsXG5cdExMOiBzdHJpbmcsXG5cdGQ6IG51bWJlcixcblx0TTogc3RyaW5nLFxuXHRGOiBzdHJpbmcsXG5cdG06IG51bWJlcixcblx0bW06IHN0cmluZyxcblx0WTogbnVtYmVyLFxuXHR5OiBudW1iZXIsXG5cdGg6IG51bWJlcixcblx0SDogbnVtYmVyLFxuXHRpOiBudW1iZXIsXG5cdGlpOiBzdHJpbmcsXG5cdHM6IG51bWJlcixcblx0c3M6IHN0cmluZyxcblx0bXM6IG51bWJlcixcblx0YTogc3RyaW5nLFxuXHRBOiBzdHJpbmdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9XZWJEYXRlIHtcblxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIGFwcF9jb250ZXh0OiBPV2ViQXBwLCBwcml2YXRlIGRhdGU6IHREYXRlVmFsdWUgPSBuZXcgRGF0ZSgpKSB7XG5cdH1cblxuXHQvKipcblx0ICogRm9ybWF0IGRhdGUgd2l0aCBhIGdpdmVuIGxhbmcga2V5LlxuXHQgKlxuXHQgKiBAcGFyYW0gbGFuZ0tleVxuXHQgKi9cblx0Zm9ybWF0KGxhbmdLZXk6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuYXBwX2NvbnRleHQuaTE4bi50b0h1bWFuKGxhbmdLZXksIHRoaXMuZGVzY3JpYmUoKSk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBkYXRlIGRlc2NyaXB0aW9uIG9iamVjdC5cblx0ICovXG5cdGRlc2NyaWJlKCk6IHREYXRlRGVzYyB7XG5cdFx0bGV0IGkxOG4gICAgICAgICAgICAgID0gdGhpcy5hcHBfY29udGV4dC5pMThuLFxuXHRcdFx0ZGF5X25hbWVzX3Nob3J0ICAgPSBpMThuLnRvSHVtYW4oXCJPV19USU1FX0RBWV9OQU1FU19TSE9SVFwiKS5zcGxpdChcIixcIiksXG5cdFx0XHRkYXlfbmFtZXNfZnVsbCAgICA9IGkxOG4udG9IdW1hbihcIk9XX1RJTUVfREFZX05BTUVTX0ZVTExcIikuc3BsaXQoXCIsXCIpLFxuXHRcdFx0bW9udGhfbmFtZXNfc2hvcnQgPSBpMThuLnRvSHVtYW4oXCJPV19USU1FX01PTlRIX05BTUVTX1NIT1JUXCIpLnNwbGl0KFwiLFwiKSxcblx0XHRcdG1vbnRoX25hbWVzX2Z1bGwgID0gaTE4bi50b0h1bWFuKFwiT1dfVElNRV9NT05USF9OQU1FU19GVUxMXCIpLnNwbGl0KFwiLFwiKSxcblx0XHRcdGRhdGUgICAgICAgICAgICAgID0gbmV3IERhdGUodGhpcy5kYXRlKSxcblx0XHRcdHk6IG51bWJlciAgICAgICAgID0gKGRhdGUgYXMgYW55KS5nZXRZZWFyKCksXG5cdFx0XHRZOiBudW1iZXIgICAgICAgICA9IGRhdGUuZ2V0RnVsbFllYXIoKSxcblx0XHRcdG06IG51bWJlciAgICAgICAgID0gZGF0ZS5nZXRNb250aCgpLFxuXHRcdFx0bW06IHN0cmluZyAgICAgICAgPSBTdHJpbmcobSA8IDkgPyBcIjBcIiArIChtICsgMSkgOiBtICsgMSksXG5cdFx0XHRkOiBudW1iZXIgICAgICAgICA9IGRhdGUuZ2V0RGF0ZSgpLFxuXHRcdFx0bDogbnVtYmVyICAgICAgICAgPSBkYXRlLmdldERheSgpLFxuXHRcdFx0bGw6IG51bWJlciAgICAgICAgPSBsICsgMSwvLyBsPyBsIDogNyxcblx0XHRcdEw6IHN0cmluZyAgICAgICAgID0gZGF5X25hbWVzX2Z1bGxbbF0sXG5cdFx0XHRMTDogc3RyaW5nICAgICAgICA9IGRheV9uYW1lc19mdWxsW2xdLFxuXHRcdFx0RDogc3RyaW5nICAgICAgICAgPSBkYXlfbmFtZXNfc2hvcnRbbF0sXG5cdFx0XHRNOiBzdHJpbmcgICAgICAgICA9IG1vbnRoX25hbWVzX3Nob3J0W21dLFxuXHRcdFx0Rjogc3RyaW5nICAgICAgICAgPSBtb250aF9uYW1lc19mdWxsW21dLFxuXHRcdFx0SDogbnVtYmVyICAgICAgICAgPSBkYXRlLmdldEhvdXJzKCksXG5cdFx0XHRpOiBudW1iZXIgICAgICAgICA9IGRhdGUuZ2V0TWludXRlcygpLFxuXHRcdFx0aWk6IHN0cmluZyAgICAgICAgPSBTdHJpbmcoaSA8IDEwID8gXCIwXCIgKyBpIDogaSksXG5cdFx0XHRzOiBudW1iZXIgICAgICAgICA9IGRhdGUuZ2V0U2Vjb25kcygpLFxuXHRcdFx0c3M6IHN0cmluZyAgICAgICAgPSBTdHJpbmcocyA8IDEwID8gXCIwXCIgKyBzIDogcyksXG5cdFx0XHRtczogbnVtYmVyICAgICAgICA9IGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCksXG5cdFx0XHRoOiBudW1iZXIgICAgICAgICA9IChIID09PSAxMikgPyAxMiA6IEggJSAxMixcblx0XHRcdGE6IHN0cmluZyAgICAgICAgID0gKEggPCAxMikgPyBcImFtXCIgOiBcInBtXCIsXG5cdFx0XHRBOiBzdHJpbmcgICAgICAgICA9IGEudG9VcHBlckNhc2UoKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHREIDogRCxcblx0XHRcdGwgOiBsLFxuXHRcdFx0TCA6IEwsXG5cdFx0XHRsbDogbGwsXG5cdFx0XHRMTDogTEwsXG5cdFx0XHRkIDogZCxcblx0XHRcdE0gOiBNLFxuXHRcdFx0RiA6IEYsXG5cdFx0XHRtIDogbSxcblx0XHRcdG1tOiBtbSxcblx0XHRcdFkgOiBZLFxuXHRcdFx0eSA6IHksXG5cdFx0XHRoIDogaCxcblx0XHRcdEggOiBILFxuXHRcdFx0aSA6IGksXG5cdFx0XHRpaTogaWksXG5cdFx0XHRzIDogcyxcblx0XHRcdHNzOiBzcyxcblx0XHRcdG1zOiBtcyxcblx0XHRcdGEgOiBhLFxuXHRcdFx0QSA6IEFcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIERhdGUgc2V0dGVyLlxuXHQgKlxuXHQgKiBAcGFyYW0gZGF0ZVxuXHQgKi9cblx0c2V0RGF0ZShkYXRlOiB0RGF0ZVZhbHVlKTogdGhpcyB7XG5cdFx0dGhpcy5kYXRlID0gbmV3IERhdGUoZGF0ZSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogRGF0ZSBnZXR0ZXIuXG5cdCAqL1xuXHRnZXREYXRlKCk6IHREYXRlVmFsdWUge1xuXHRcdHJldHVybiB0aGlzLmRhdGU7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB1bml4IGxpa2UgdGltZXN0YW1wLlxuXHQgKi9cblx0c3RhdGljIHRpbWVzdGFtcCgpOiBudW1iZXIge1xuXHRcdHJldHVybiBOdW1iZXIoU3RyaW5nKERhdGUubm93KCkpLnNsaWNlKDAsIC0zKSk7XG5cdH1cbn07Il19