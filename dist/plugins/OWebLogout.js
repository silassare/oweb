"use strict";
import OWebEvent from "../OWebEvent";
export default class OWebLogout extends OWebEvent {
    constructor(app_context) {
        super();
        this.app_context = app_context;
    }
    logout() {
        let m = this, url = this.app_context.url.get("OZ_SERVER_LOGOUT_SERVICE");
        this.app_context.request("POST", url, null, function (response) {
            m.trigger(OWebLogout.EVT_LOGOUT_SUCCESS, [response]);
        }, function (response) {
            m.trigger(OWebLogout.EVT_LOGOUT_ERROR, [response]);
        }, true);
    }
}
OWebLogout.EVT_LOGOUT_ERROR = "OWebLogout:error";
OWebLogout.EVT_LOGOUT_SUCCESS = "OWebLogout:success";
OWebLogout.SELF = "OWebLogout";
;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiT1dlYkxvZ291dC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9wbHVnaW5zL09XZWJMb2dvdXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDO0FBR2IsT0FBTyxTQUFTLE1BQU0sY0FBYyxDQUFDO0FBRXJDLE1BQU0sQ0FBQyxPQUFPLGlCQUFrQixTQUFRLFNBQVM7SUFLaEQsWUFBNkIsV0FBb0I7UUFDaEQsS0FBSyxFQUFFLENBQUM7UUFEb0IsZ0JBQVcsR0FBWCxXQUFXLENBQVM7SUFFakQsQ0FBQztJQUVELE1BQU07UUFDTCxJQUFJLENBQUMsR0FBSyxJQUFJLEVBQ2IsR0FBRyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO1FBRTVELElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLFVBQVUsUUFBYTtZQUNsRSxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDdEQsQ0FBQyxFQUFFLFVBQVUsUUFBYTtZQUN6QixDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDcEQsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ1YsQ0FBQzs7QUFqQmUsMkJBQWdCLEdBQUssa0JBQWtCLENBQUM7QUFDeEMsNkJBQWtCLEdBQUcsb0JBQW9CLENBQUM7QUFDMUMsZUFBSSxHQUFpQixZQUFZLENBQUM7QUFnQmxELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IE9XZWJBcHAgZnJvbSBcIi4uL09XZWJBcHBcIjtcbmltcG9ydCBPV2ViRXZlbnQgZnJvbSBcIi4uL09XZWJFdmVudFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPV2ViTG9nb3V0IGV4dGVuZHMgT1dlYkV2ZW50IHtcblx0c3RhdGljIHJlYWRvbmx5IEVWVF9MT0dPVVRfRVJST1IgICA9IFwiT1dlYkxvZ291dDplcnJvclwiO1xuXHRzdGF0aWMgcmVhZG9ubHkgRVZUX0xPR09VVF9TVUNDRVNTID0gXCJPV2ViTG9nb3V0OnN1Y2Nlc3NcIjtcblx0c3RhdGljIHJlYWRvbmx5IFNFTEYgICAgICAgICAgICAgICA9IFwiT1dlYkxvZ291dFwiO1xuXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgYXBwX2NvbnRleHQ6IE9XZWJBcHApIHtcblx0XHRzdXBlcigpO1xuXHR9XG5cblx0bG9nb3V0KCkge1xuXHRcdGxldCBtICAgPSB0aGlzLFxuXHRcdFx0dXJsID0gdGhpcy5hcHBfY29udGV4dC51cmwuZ2V0KFwiT1pfU0VSVkVSX0xPR09VVF9TRVJWSUNFXCIpO1xuXG5cdFx0dGhpcy5hcHBfY29udGV4dC5yZXF1ZXN0KFwiUE9TVFwiLCB1cmwsIG51bGwsIGZ1bmN0aW9uIChyZXNwb25zZTogYW55KSB7XG5cdFx0XHRtLnRyaWdnZXIoT1dlYkxvZ291dC5FVlRfTE9HT1VUX1NVQ0NFU1MsIFtyZXNwb25zZV0pO1xuXHRcdH0sIGZ1bmN0aW9uIChyZXNwb25zZTogYW55KSB7XG5cdFx0XHRtLnRyaWdnZXIoT1dlYkxvZ291dC5FVlRfTE9HT1VUX0VSUk9SLCBbcmVzcG9uc2VdKTtcblx0XHR9LCB0cnVlKTtcblx0fVxufTtcbiJdfQ==