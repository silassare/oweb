import OWebEvent from './OWebEvent';
import { id } from './utils';
const eventHandlerMessage = '[OWebNet] Register event handler before calling send.';
export default class OWebNet extends OWebEvent {
    url;
    options;
    static SELF = id();
    static EVT_ERROR = id();
    static EVT_RESPONSE = id();
    static EVT_HTTP_SUCCESS = id();
    static EVT_HTTP_ERROR = id();
    static EVT_FINISH = id();
    static EVT_GOOD_NEWS = id();
    static EVT_BAD_NEWS = id();
    static EVT_FAIL = id();
    static EVT_UPLOAD_PROGRESS = id();
    static EVT_DOWNLOAD_PROGRESS = id();
    constructor(url, options) {
        super();
        this.url = url;
        this.options = options;
    }
    assertNotSent(message) {
        if (this.isSent()) {
            throw Error(message);
        }
    }
    onResponse(handler) {
        this.assertNotSent(eventHandlerMessage);
        return this.on(OWebNet.EVT_RESPONSE, handler);
    }
    onHttpSuccess(handler) {
        this.assertNotSent(eventHandlerMessage);
        return this.on(OWebNet.EVT_HTTP_SUCCESS, handler);
    }
    onFinish(handler) {
        this.assertNotSent(eventHandlerMessage);
        return this.on(OWebNet.EVT_FINISH, handler);
    }
    onGoodNews(handler) {
        this.assertNotSent(eventHandlerMessage);
        return this.on(OWebNet.EVT_GOOD_NEWS, handler);
    }
    onBadNews(handler) {
        this.assertNotSent(eventHandlerMessage);
        return this.on(OWebNet.EVT_BAD_NEWS, handler);
    }
    onError(handler) {
        this.assertNotSent(eventHandlerMessage);
        return this.on(OWebNet.EVT_ERROR, handler);
    }
    onHttpError(handler) {
        this.assertNotSent(eventHandlerMessage);
        return this.on(OWebNet.EVT_HTTP_ERROR, handler);
    }
    onFail(handler) {
        this.assertNotSent(eventHandlerMessage);
        return this.on(OWebNet.EVT_FAIL, handler);
    }
    onUploadProgress(handler) {
        this.assertNotSent(eventHandlerMessage);
        return this.on(OWebNet.EVT_UPLOAD_PROGRESS, handler);
    }
    onDownloadProgress(handler) {
        this.assertNotSent(eventHandlerMessage);
        return this.on(OWebNet.EVT_DOWNLOAD_PROGRESS, handler);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiT1dlYk5ldC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9PV2ViTmV0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sU0FBUyxNQUFNLGFBQWEsQ0FBQztBQUNwQyxPQUFPLEVBQUUsRUFBRSxFQUFFLE1BQU0sU0FBUyxDQUFDO0FBK0Q3QixNQUFNLG1CQUFtQixHQUN4Qix1REFBdUQsQ0FBQztBQUV6RCxNQUFNLENBQUMsT0FBTyxPQUFnQixPQUFrQixTQUFRLFNBQVM7SUFxQnJEO0lBQ0E7SUFyQlgsTUFBTSxDQUFVLElBQUksR0FBRyxFQUFFLEVBQUUsQ0FBQztJQUM1QixNQUFNLENBQVUsU0FBUyxHQUFHLEVBQUUsRUFBRSxDQUFDO0lBQ2pDLE1BQU0sQ0FBVSxZQUFZLEdBQUcsRUFBRSxFQUFFLENBQUM7SUFDcEMsTUFBTSxDQUFVLGdCQUFnQixHQUFHLEVBQUUsRUFBRSxDQUFDO0lBQ3hDLE1BQU0sQ0FBVSxjQUFjLEdBQUcsRUFBRSxFQUFFLENBQUM7SUFDdEMsTUFBTSxDQUFVLFVBQVUsR0FBRyxFQUFFLEVBQUUsQ0FBQztJQUNsQyxNQUFNLENBQVUsYUFBYSxHQUFHLEVBQUUsRUFBRSxDQUFDO0lBQ3JDLE1BQU0sQ0FBVSxZQUFZLEdBQUcsRUFBRSxFQUFFLENBQUM7SUFDcEMsTUFBTSxDQUFVLFFBQVEsR0FBRyxFQUFFLEVBQUUsQ0FBQztJQUNoQyxNQUFNLENBQVUsbUJBQW1CLEdBQUcsRUFBRSxFQUFFLENBQUM7SUFDM0MsTUFBTSxDQUFVLHFCQUFxQixHQUFHLEVBQUUsRUFBRSxDQUFDO0lBUzdDLFlBQ1csR0FBVyxFQUNYLE9BQThCO1FBRXhDLEtBQUssRUFBRSxDQUFDO1FBSEUsUUFBRyxHQUFILEdBQUcsQ0FBUTtRQUNYLFlBQU8sR0FBUCxPQUFPLENBQXVCO0lBR3pDLENBQUM7SUFRUyxhQUFhLENBQUMsT0FBZTtRQUN0QyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRTtZQUNsQixNQUFNLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUNyQjtJQUNGLENBQUM7SUFPRCxVQUFVLENBQUMsT0FBd0Q7UUFDbEUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQ3hDLE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsWUFBWSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFPRCxhQUFhLENBQ1osT0FBd0Q7UUFFeEQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQ3hDLE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQU9ELFFBQVEsQ0FBQyxPQUE2QjtRQUNyQyxJQUFJLENBQUMsYUFBYSxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDeEMsT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQU9ELFVBQVUsQ0FBQyxPQUF3RDtRQUNsRSxJQUFJLENBQUMsYUFBYSxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDeEMsT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDaEQsQ0FBQztJQU9ELFNBQVMsQ0FBQyxPQUEwRDtRQUNuRSxJQUFJLENBQUMsYUFBYSxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDeEMsT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQU9ELE9BQU8sQ0FBQyxPQUErQztRQUN0RCxJQUFJLENBQUMsYUFBYSxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDeEMsT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQU9ELFdBQVcsQ0FBQyxPQUF3RDtRQUNuRSxJQUFJLENBQUMsYUFBYSxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDeEMsT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxjQUFjLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDakQsQ0FBQztJQU9ELE1BQU0sQ0FBQyxPQUFnRDtRQUN0RCxJQUFJLENBQUMsYUFBYSxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDeEMsT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDM0MsQ0FBQztJQVNELGdCQUFnQixDQUNmLE9BQXNEO1FBRXRELElBQUksQ0FBQyxhQUFhLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUN4QyxPQUFPLElBQUksQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLG1CQUFtQixFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3RELENBQUM7SUFPRCxrQkFBa0IsQ0FDakIsT0FBc0Q7UUFFdEQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQ3hDLE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMscUJBQXFCLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDeEQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBPV2ViRXZlbnQgZnJvbSAnLi9PV2ViRXZlbnQnO1xuaW1wb3J0IHsgaWQgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7IE9WaWV3RGlhbG9nIH0gZnJvbSAnLi9PV2ViVmlldyc7XG5cbmV4cG9ydCB0eXBlIE9OZXRSZXF1ZXN0Qm9keSA9XG5cdHwgdW5kZWZpbmVkXG5cdHwgc3RyaW5nXG5cdHwgUmVjb3JkPHN0cmluZywgdW5rbm93bj5cblx0fCBGb3JtRGF0YVxuXHR8IFVSTFNlYXJjaFBhcmFtc1xuXHR8IEZpbGVcblx0fCBCbG9iO1xuXG5leHBvcnQgdHlwZSBPTmV0UmVxdWVzdFBhcmFtcyA9XG5cdHwgdW5kZWZpbmVkXG5cdHwgUmVjb3JkPHN0cmluZywgdW5rbm93bj5cblx0fCBVUkxTZWFyY2hQYXJhbXM7XG5cbmV4cG9ydCB0eXBlIE9OZXRSZXF1ZXN0TWV0aG9kID1cblx0fCAnZ2V0J1xuXHR8ICdHRVQnXG5cdHwgJ2RlbGV0ZSdcblx0fCAnREVMRVRFJ1xuXHR8ICdoZWFkJ1xuXHR8ICdIRUFEJ1xuXHR8ICdvcHRpb25zJ1xuXHR8ICdPUFRJT05TJ1xuXHR8ICdwb3N0J1xuXHR8ICdQT1NUJ1xuXHR8ICdwdXQnXG5cdHwgJ1BVVCdcblx0fCAncGF0Y2gnXG5cdHwgJ1BBVENIJztcblxuZXhwb3J0IGludGVyZmFjZSBPTmV0UmVzcG9uc2U8VD4ge1xuXHRyYXc6IGFueTtcblx0anNvbjogVDtcblx0c3RhdHVzOiBudW1iZXI7XG5cdHN0YXR1c1RleHQ6IHN0cmluZztcblx0aXNHb29kTmV3czogYm9vbGVhbjtcblx0aXNTdWNjZXNzU3RhdHVzOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9OZXRFcnJvciBleHRlbmRzIE9WaWV3RGlhbG9nIHtcblx0dHlwZTogJ2Vycm9yJztcblx0ZXJyVHlwZTogJ2JhZF9uZXdzJyB8ICdodHRwJyB8ICduZXR3b3JrJyB8ICdhYm9ydCcgfCAndGltZW91dCcgfCAndW5rbm93bic7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT05ldFJlcXVlc3RPcHRpb25zPFQ+IHtcblx0bWV0aG9kOiBPTmV0UmVxdWVzdE1ldGhvZDtcblx0Ym9keT86IE9OZXRSZXF1ZXN0Qm9keTtcblx0cGFyYW1zPzogT05ldFJlcXVlc3RQYXJhbXM7XG5cdHRpbWVvdXQ6IG51bWJlcjtcblx0d2l0aENyZWRlbnRpYWxzOiBib29sZWFuO1xuXHRyZXNwb25zZVR5cGU6IFhNTEh0dHBSZXF1ZXN0WydyZXNwb25zZVR5cGUnXTtcblx0aGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcblx0aXNTdWNjZXNzU3RhdHVzOiAoc3RhdHVzOiBudW1iZXIpID0+IGJvb2xlYW47XG5cdGlzR29vZE5ld3M6IChqc29uOiBudWxsIHwgVCkgPT4gYm9vbGVhbjtcblx0ZXJyb3JSZXNwb25zZVRvRGlhbG9nOiAocmVzcG9uc2U6IE9OZXRSZXNwb25zZTxUPikgPT4ge1xuXHRcdHRleHQ6IHN0cmluZztcblx0XHRkYXRhPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdH07XG59XG5cbmNvbnN0IGV2ZW50SGFuZGxlck1lc3NhZ2UgPVxuXHQnW09XZWJOZXRdIFJlZ2lzdGVyIGV2ZW50IGhhbmRsZXIgYmVmb3JlIGNhbGxpbmcgc2VuZC4nO1xuXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBPV2ViTmV0PFQgPSBudWxsPiBleHRlbmRzIE9XZWJFdmVudCB7XG5cdHN0YXRpYyByZWFkb25seSBTRUxGID0gaWQoKTtcblx0c3RhdGljIHJlYWRvbmx5IEVWVF9FUlJPUiA9IGlkKCk7IC8vIG9uIGVycm9yOiBhYm9ydCwgdGltZW91dCwgbmV0d29ya1xuXHRzdGF0aWMgcmVhZG9ubHkgRVZUX1JFU1BPTlNFID0gaWQoKTsgLy8gcmVxdWVzdCBzZW50IGFuZCB0aGUgc2VydmVyIHJlc3BvbmRlZC5cblx0c3RhdGljIHJlYWRvbmx5IEVWVF9IVFRQX1NVQ0NFU1MgPSBpZCgpOyAvLyByZXF1ZXN0IHNlbnQgYW5kIGh0dHAgcmVzcG9uc2Ugc3RhdHVzIGNvZGUgaXMgaW4gc3VjY2VzcyByYW5nZVxuXHRzdGF0aWMgcmVhZG9ubHkgRVZUX0hUVFBfRVJST1IgPSBpZCgpOyAvLyByZXF1ZXN0IHNlbnQgYW5kIGh0dHAgcmVzcG9uc2Ugc3RhdHVzIGNvZGUgaXMgbm90IGluIHN1Y2Nlc3MgcmFuZ2Vcblx0c3RhdGljIHJlYWRvbmx5IEVWVF9GSU5JU0ggPSBpZCgpOyAvLyByZXF1ZXN0IGZpbmlzaGVkXG5cdHN0YXRpYyByZWFkb25seSBFVlRfR09PRF9ORVdTID0gaWQoKTsgLy8gdGhlIHJlc3BvbnNlIGlzIGEgZ29vZCBuZXdzIFtkZXBlbmRzIG9uIHByb3ZpZGVkIG9wdGlvbnNdXG5cdHN0YXRpYyByZWFkb25seSBFVlRfQkFEX05FV1MgPSBpZCgpOyAvLyB0aGUgcmVzcG9uc2UgaXMgYSBiYWQgbmV3cyBbZGVwZW5kcyBvbiBwcm92aWRlZCBvcHRpb25zXVxuXHRzdGF0aWMgcmVhZG9ubHkgRVZUX0ZBSUwgPSBpZCgpOyAvLyB0aGUgcmVxdWVzdCBmYWlsZWQ6IHRoZXJlIGlzIGEgZ2VuZXJhbCBlcnJvciwgYW4gaHR0cCBzdGF0dXMgZXJyb3Igb3IgYSBiYWQgbmV3c1xuXHRzdGF0aWMgcmVhZG9ubHkgRVZUX1VQTE9BRF9QUk9HUkVTUyA9IGlkKCk7IC8vIG9uIHVwbG9hZCBwcm9ncmVzc1xuXHRzdGF0aWMgcmVhZG9ubHkgRVZUX0RPV05MT0FEX1BST0dSRVNTID0gaWQoKTsgLy8gb24gZG93bmxvYWQgcHJvZ3Jlc3NcblxuXHQvKipcblx0ICogT1dlYk5ldCBjb25zdHJ1Y3Rvci5cblx0ICpcblx0ICogQHBhcmFtIHVybFxuXHQgKiBAcGFyYW0gb3B0aW9uc1xuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRwcm90ZWN0ZWQgY29uc3RydWN0b3IoXG5cdFx0cHJvdGVjdGVkIHVybDogc3RyaW5nLFxuXHRcdHByb3RlY3RlZCBvcHRpb25zOiBPTmV0UmVxdWVzdE9wdGlvbnM8VD5cblx0KSB7XG5cdFx0c3VwZXIoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBc3NlcnRpb24gdGhhdCB0aHJvd3MgZXJyb3Igd2hlbiByZXF1ZXN0IGlzIGFscmVhZHkgc2VudC5cblx0ICpcblx0ICogQHBhcmFtIG1lc3NhZ2Vcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHByb3RlY3RlZCBhc3NlcnROb3RTZW50KG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuXHRcdGlmICh0aGlzLmlzU2VudCgpKSB7XG5cdFx0XHR0aHJvdyBFcnJvcihtZXNzYWdlKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQ2FsbGVkIHdoZW4gcmVxdWVzdCBzZW50IGFuZCB0aGUgc2VydmVyIHJlc3BvbmRlZC5cblx0ICpcblx0ICogQHBhcmFtIGhhbmRsZXJcblx0ICovXG5cdG9uUmVzcG9uc2UoaGFuZGxlcjogKHRoaXM6IHRoaXMsIHJlc3BvbnNlOiBPTmV0UmVzcG9uc2U8VD4pID0+IHZvaWQpOiB0aGlzIHtcblx0XHR0aGlzLmFzc2VydE5vdFNlbnQoZXZlbnRIYW5kbGVyTWVzc2FnZSk7XG5cdFx0cmV0dXJuIHRoaXMub24oT1dlYk5ldC5FVlRfUkVTUE9OU0UsIGhhbmRsZXIpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENhbGxlZCB3aGVuIHJlcXVlc3Qgc2VudCBhbmQgaHR0cCByZXNwb25zZSBzdGF0dXMgY29kZSBpcyBpbiBzdWNjZXNzIHJhbmdlLlxuXHQgKlxuXHQgKiBAcGFyYW0gaGFuZGxlclxuXHQgKi9cblx0b25IdHRwU3VjY2Vzcyhcblx0XHRoYW5kbGVyOiAodGhpczogdGhpcywgcmVzcG9uc2U6IE9OZXRSZXNwb25zZTxUPikgPT4gdm9pZFxuXHQpOiB0aGlzIHtcblx0XHR0aGlzLmFzc2VydE5vdFNlbnQoZXZlbnRIYW5kbGVyTWVzc2FnZSk7XG5cdFx0cmV0dXJuIHRoaXMub24oT1dlYk5ldC5FVlRfSFRUUF9TVUNDRVNTLCBoYW5kbGVyKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBbHdheXMgY2FsbGVkIHdoZW4gdGhlIHJlcXVlc3QgZmluaXNoZWQuXG5cdCAqXG5cdCAqIEBwYXJhbSBoYW5kbGVyXG5cdCAqL1xuXHRvbkZpbmlzaChoYW5kbGVyOiAodGhpczogdGhpcykgPT4gdm9pZCk6IHRoaXMge1xuXHRcdHRoaXMuYXNzZXJ0Tm90U2VudChldmVudEhhbmRsZXJNZXNzYWdlKTtcblx0XHRyZXR1cm4gdGhpcy5vbihPV2ViTmV0LkVWVF9GSU5JU0gsIGhhbmRsZXIpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENhbGxlZCB3aGVuIGBvcHRpb25zLnJlc3BvbnNlVHlwZWAgaXMgYGpzb25gIGFuZCBgb3B0aW9ucy5pc0dvb2ROZXdzYCByZXR1cm5zIGB0cnVlYC5cblx0ICpcblx0ICogQHBhcmFtIGhhbmRsZXJcblx0ICovXG5cdG9uR29vZE5ld3MoaGFuZGxlcjogKHRoaXM6IHRoaXMsIHJlc3BvbnNlOiBPTmV0UmVzcG9uc2U8VD4pID0+IHZvaWQpOiB0aGlzIHtcblx0XHR0aGlzLmFzc2VydE5vdFNlbnQoZXZlbnRIYW5kbGVyTWVzc2FnZSk7XG5cdFx0cmV0dXJuIHRoaXMub24oT1dlYk5ldC5FVlRfR09PRF9ORVdTLCBoYW5kbGVyKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDYWxsZWQgd2hlbiBgb3B0aW9ucy5yZXNwb25zZVR5cGVgIGlzIGBqc29uYCBhbmQgYG9wdGlvbnMuaXNHb29kTmV3c2AgcmV0dXJucyBgZmFsc2VgLlxuXHQgKlxuXHQgKiBAcGFyYW0gaGFuZGxlclxuXHQgKi9cblx0b25CYWROZXdzKGhhbmRsZXI6ICh0aGlzOiB0aGlzLCByZXNwb25zZTogT05ldFJlc3BvbnNlPGFueT4pID0+IHZvaWQpOiB0aGlzIHtcblx0XHR0aGlzLmFzc2VydE5vdFNlbnQoZXZlbnRIYW5kbGVyTWVzc2FnZSk7XG5cdFx0cmV0dXJuIHRoaXMub24oT1dlYk5ldC5FVlRfQkFEX05FV1MsIGhhbmRsZXIpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENhbGxlZCBvbiBlcnJvcjogYWJvcnQsIHRpbWVvdXQsIG5ldHdvcmtcblx0ICpcblx0ICogQHBhcmFtIGhhbmRsZXJcblx0ICovXG5cdG9uRXJyb3IoaGFuZGxlcjogKHRoaXM6IHRoaXMsIGVycm9yOiBPTmV0RXJyb3IpID0+IHZvaWQpOiB0aGlzIHtcblx0XHR0aGlzLmFzc2VydE5vdFNlbnQoZXZlbnRIYW5kbGVyTWVzc2FnZSk7XG5cdFx0cmV0dXJuIHRoaXMub24oT1dlYk5ldC5FVlRfRVJST1IsIGhhbmRsZXIpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENhbGxlZCB3aGVuIHJlcXVlc3Qgc2VudCBhbmQgaHR0cCByZXNwb25zZSBzdGF0dXMgY29kZSBpcyBpbiBlcnJvciByYW5nZS5cblx0ICpcblx0ICogQHBhcmFtIGhhbmRsZXJcblx0ICovXG5cdG9uSHR0cEVycm9yKGhhbmRsZXI6ICh0aGlzOiB0aGlzLCByZXNwb25zZTogT05ldFJlc3BvbnNlPFQ+KSA9PiB2b2lkKTogdGhpcyB7XG5cdFx0dGhpcy5hc3NlcnROb3RTZW50KGV2ZW50SGFuZGxlck1lc3NhZ2UpO1xuXHRcdHJldHVybiB0aGlzLm9uKE9XZWJOZXQuRVZUX0hUVFBfRVJST1IsIGhhbmRsZXIpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENhbGxlZCB3aGVuIHRoZXJlIGlzIGEgZ2VuZXJhbCBlcnJvciwgYW4gaHR0cCBzdGF0dXMgZXJyb3Igb3IgYSBiYWQgbmV3cy5cblx0ICpcblx0ICogQHBhcmFtIGhhbmRsZXJcblx0ICovXG5cdG9uRmFpbChoYW5kbGVyOiAodGhpczogdGhpcywgcmFpc29uOiBPTmV0RXJyb3IpID0+IHZvaWQpOiB0aGlzIHtcblx0XHR0aGlzLmFzc2VydE5vdFNlbnQoZXZlbnRIYW5kbGVyTWVzc2FnZSk7XG5cdFx0cmV0dXJuIHRoaXMub24oT1dlYk5ldC5FVlRfRkFJTCwgaGFuZGxlcik7XG5cdH1cblxuXHQvKipcblx0ICogTGlzdGVuIHRvIGRvd25sb2FkIHByb2dyZXNzIGV2ZW50LlxuXHQgKlxuXHQgKiBOT1RFOiB0aGlzIGlzIG5vdCBzdXBwb3J0ZWQgYnkgYWxsIGJyb3dzZXIuXG5cdCAqXG5cdCAqIEBwYXJhbSBoYW5kbGVyXG5cdCAqL1xuXHRvblVwbG9hZFByb2dyZXNzKFxuXHRcdGhhbmRsZXI6ICh0aGlzOiB0aGlzLCBwcm9ncmVzczogUHJvZ3Jlc3NFdmVudCkgPT4gdm9pZFxuXHQpOiB0aGlzIHtcblx0XHR0aGlzLmFzc2VydE5vdFNlbnQoZXZlbnRIYW5kbGVyTWVzc2FnZSk7XG5cdFx0cmV0dXJuIHRoaXMub24oT1dlYk5ldC5FVlRfVVBMT0FEX1BST0dSRVNTLCBoYW5kbGVyKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBMaXN0ZW4gdG8gZG93bmxvYWQgcHJvZ3Jlc3MgZXZlbnQuXG5cdCAqXG5cdCAqIEBwYXJhbSBoYW5kbGVyXG5cdCAqL1xuXHRvbkRvd25sb2FkUHJvZ3Jlc3MoXG5cdFx0aGFuZGxlcjogKHRoaXM6IHRoaXMsIHByb2dyZXNzOiBQcm9ncmVzc0V2ZW50KSA9PiB2b2lkXG5cdCk6IHRoaXMge1xuXHRcdHRoaXMuYXNzZXJ0Tm90U2VudChldmVudEhhbmRsZXJNZXNzYWdlKTtcblx0XHRyZXR1cm4gdGhpcy5vbihPV2ViTmV0LkVWVF9ET1dOTE9BRF9QUk9HUkVTUywgaGFuZGxlcik7XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIHRoZSByZXF1ZXN0IGlzIGFscmVhZHkgc2VudC5cblx0ICovXG5cdGFic3RyYWN0IGlzU2VudCgpOiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBTZW5kIHRoZSByZXF1ZXN0IGFuZCByZXR1cm4gYSBwcm9taXNlLlxuXHQgKi9cblx0YWJzdHJhY3Qgc2VuZCgpOiBQcm9taXNlPE9OZXRSZXNwb25zZTxUPj47XG5cblx0LyoqXG5cdCAqIEFib3J0IHRoZSByZXF1ZXN0XG5cdCAqL1xuXHRhYnN0cmFjdCBhYm9ydCgpOiB0aGlzO1xufVxuIl19